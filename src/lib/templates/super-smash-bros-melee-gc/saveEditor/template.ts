import type { GameJson, ItemInt, ItemTab } from "$lib/types";

import {
  characters,
  charactersSorted,
  dataSpecialTypes,
  eventMatches,
} from "./utils/resource";

const template: GameJson = {
  validator: {
    regions: {
      europe: {
        0x0: [0x47, 0x41, 0x4c, 0x50, 0x30, 0x31], // "GALP01"
      },
      usa: {
        0x0: [0x47, 0x41, 0x4c, 0x45, 0x30, 0x31], // "GALE01"
      },
      japan: {
        0x0: [0x47, 0x41, 0x4c, 0x4a, 0x30, 0x31], // "GALJ01"
      },
    },
    text: "Drag 'n' drop here or click to add a save file.",
    error: "Not a valid save file.",
  },
  items: [
    {
      type: "section",
      flex: true,
      hidden: true,
      items: [
        {
          id: "checksum1",
          name: "Checksum 1",
          offset: 0x0,
          type: "checksum",
          dataType: "uint64",
          bigEndian: true,
          control: {
            offsetStart: 0x10,
            offsetEnd: 0x2000,
          },
        },
        {
          id: "checksum2",
          name: "Checksum 2",
          offset: 0x8,
          type: "checksum",
          dataType: "uint64",
          bigEndian: true,
          control: {
            offsetStart: 0x10,
            offsetEnd: 0x2000,
          },
        },
      ],
    },
    {
      type: "tabs",
      items: [
        {
          name: "General",
          items: [
            {
              type: "section",
              flex: true,
              items: [
                {
                  name: "Coins",
                  offset: 0x200,
                  type: "variable",
                  dataType: "uint32",
                  bigEndian: true,
                  operations: [{ "/": 10 }, { roundFloor: 0 }],
                  max: 9999,
                  test: true,
                },
              ],
            },
            {
              type: "section",
              flex: true,
              items: [
                {
                  id: "unlockedChallengers",
                  name: "Unlocked Challengers",
                  type: "bitflags",
                  flags: [
                    { offset: 0x21, bit: 1, label: "Luigi" },
                    { offset: 0x21, bit: 4, label: "Jigglypuff" },
                    { offset: 0x21, bit: 3, label: "Mewtwo" },
                    { offset: 0x21, bit: 2, label: "Marth" },
                    { offset: 0x21, bit: 0, label: "Mr. Game & Watch" },
                    { offset: 0x21, bit: 7, label: "Dr. Mario" },
                    { offset: 0x20, bit: 2, label: "Ganondorf" },
                    { offset: 0x21, bit: 5, label: "Falco" },
                    { offset: 0x21, bit: 6, label: "Young Link" },
                    { offset: 0x20, bit: 1, label: "Pichu" },
                    { offset: 0x20, bit: 0, label: "Roy" },
                    { offset: 0x20, bit: 3, label: "???", hidden: true },
                    { offset: 0x20, bit: 4, label: "???", hidden: true },
                    { offset: 0x20, bit: 5, label: "???", hidden: true },
                    { offset: 0x20, bit: 6, label: "???", hidden: true },
                    { offset: 0x20, bit: 7, label: "???", hidden: true },
                  ],
                },
                {
                  id: "unlockedStages",
                  name: "Unlocked Stages",
                  type: "bitflags",
                  flags: [
                    { offset: 0x23, bit: 5, label: "Flat Zone" },
                    { offset: 0x23, bit: 0, label: "Brinstar Depths" },
                    { offset: 0x23, bit: 3, label: "Fourside" },
                    { offset: 0x23, bit: 2, label: "Big Blue" },
                    { offset: 0x23, bit: 1, label: "Pok√© Floats" },
                    { offset: 0x23, bit: 4, label: "Mushroom Kingdom II" },
                    { offset: 0x23, bit: 6, label: "Battlefield" },
                    { offset: 0x23, bit: 7, label: "Final Destination" },
                    { offset: 0x22, bit: 0, label: "Dream Land N64" },
                    { offset: 0x22, bit: 1, label: "Yoshi's Island N64" },
                    { offset: 0x22, bit: 2, label: "Kongo Jungle N64" },
                    { offset: 0x22, bit: 3, label: "???", hidden: true },
                    { offset: 0x22, bit: 4, label: "???", hidden: true },
                    { offset: 0x22, bit: 5, label: "???", hidden: true },
                    { offset: 0x22, bit: 6, label: "???", hidden: true },
                    { offset: 0x22, bit: 7, label: "???", hidden: true },
                  ],
                },
                {
                  name: "Unlocked Options",
                  type: "bitflags",
                  flags: [
                    { offset: 0x25, bit: 0, label: "???", hidden: true },
                    { offset: 0x25, bit: 1, label: "???", hidden: true },
                    { offset: 0x25, bit: 2, label: "???", hidden: true },
                    { offset: 0x25, bit: 3, label: "???", hidden: true },
                    { offset: 0x25, bit: 4, label: "???", hidden: true },
                    { offset: 0x25, bit: 5, label: "???", hidden: true },
                    { offset: 0x25, bit: 6, label: "???", hidden: true },
                    { offset: 0x25, bit: 7, label: "???", hidden: true },
                    { offset: 0x24, bit: 0, label: "Score Display" },
                    { offset: 0x24, bit: 1, label: "Random Stage" },
                    { offset: 0x24, bit: 2, label: "All-Star" },
                    { offset: 0x24, bit: 3, label: "Sound Test" },
                    { offset: 0x24, bit: 4, label: "???", hidden: true },
                    { offset: 0x24, bit: 5, label: "???", hidden: true },
                    { offset: 0x24, bit: 6, label: "???", hidden: true },
                    { offset: 0x24, bit: 7, label: "???", hidden: true },
                  ],
                },
                {
                  type: "section",
                  background: true,
                  hidden: true,
                  items: [
                    {
                      name: "All Challengers Unlocked Flag",
                      offset: 0x1cc,
                      type: "variable",
                      dataType: "boolean",
                    },
                    {
                      name: "All Standard Stages Unlocked Flag",
                      offset: 0x1cd,
                      type: "variable",
                      dataType: "boolean",
                    },
                    {
                      name: "All Stages Unlocked Flag",
                      offset: 0x1ce,
                      type: "variable",
                      dataType: "boolean",
                    },
                  ],
                },
              ],
            },
          ],
        },
        {
          name: "1-P Mode",
          items: [
            {
              type: "tabs",
              items: [
                {
                  name: "Regular Match",
                  items: [
                    {
                      type: "tabs",
                      items: [
                        {
                          name: "Classic",
                          items: [
                            {
                              length: 0xac,
                              type: "container",
                              instanceType: "tabs",
                              instances: 25,
                              resource: "characters",
                              resourceOrder: true,
                              vertical: true,
                              flex: true,
                              items: [
                                {
                                  name: "Cleared",
                                  offset: 0x760,
                                  type: "variable",
                                  dataType: "bit",
                                  bit: 3,
                                  hidden: true,
                                },
                                {
                                  id: "cleared-0-%index%",
                                  name: "Cleared Difficulty",
                                  offset: 0x764,
                                  type: "variable",
                                  dataType: "uint8",
                                  resource: "difficulties",
                                },
                                {
                                  name: "Highscore",
                                  offset: 0x76c,
                                  type: "variable",
                                  dataType: "uint32",
                                  bigEndian: true,
                                  max: 99999999,
                                },
                              ],
                            },
                            {
                              name: "Cleared by Characters",
                              type: "bitflags",
                              hidden: true,
                              flags: [
                                { offset: 0x3b, bit: 0, label: "C. Falcon" },
                                { offset: 0x3b, bit: 1, label: "DK" },
                                { offset: 0x3b, bit: 2, label: "Fox" },
                                { offset: 0x3b, bit: 3, label: "Mr. Game & Watch" },
                                { offset: 0x3b, bit: 4, label: "Kirby" },
                                { offset: 0x3b, bit: 5, label: "Bowser" },
                                { offset: 0x3b, bit: 6, label: "Link" },
                                { offset: 0x3b, bit: 7, label: "Luigi" },
                                { offset: 0x3a, bit: 0, label: "Mario" },
                                { offset: 0x3a, bit: 1, label: "Marth" },
                                { offset: 0x3a, bit: 2, label: "Mewtwo" },
                                { offset: 0x3a, bit: 3, label: "Ness" },
                                { offset: 0x3a, bit: 4, label: "Peach" },
                                { offset: 0x3a, bit: 5, label: "Pikachu" },
                                { offset: 0x3a, bit: 6, label: "Ice Climbers" },
                                { offset: 0x3a, bit: 7, label: "Jigglypuff" },
                                { offset: 0x39, bit: 0, label: "Samus" },
                                { offset: 0x39, bit: 1, label: "Yoshi" },
                                { offset: 0x39, bit: 2, label: "Zelda" },
                                { offset: 0x39, bit: 3, label: "Falco" },
                                { offset: 0x39, bit: 4, label: "Young Link" },
                                { offset: 0x39, bit: 5, label: "Dr. Mario" },
                                { offset: 0x39, bit: 6, label: "Roy" },
                                { offset: 0x39, bit: 7, label: "Pichu" },
                                { offset: 0x38, bit: 0, label: "Ganondorf" },
                                { offset: 0x38, bit: 1, label: "???" },
                                { offset: 0x38, bit: 2, label: "???" },
                                { offset: 0x38, bit: 3, label: "???" },
                                { offset: 0x38, bit: 4, label: "???" },
                                { offset: 0x38, bit: 5, label: "???" },
                                { offset: 0x38, bit: 6, label: "???" },
                                { offset: 0x38, bit: 7, label: "???" },
                              ],
                            },
                          ],
                        },
                        {
                          name: "Adventure",
                          items: [
                            {
                              length: 0xac,
                              type: "container",
                              instanceType: "tabs",
                              instances: 25,
                              resource: "characters",
                              resourceOrder: true,
                              vertical: true,
                              flex: true,
                              items: [
                                {
                                  name: "Cleared",
                                  offset: 0x760,
                                  type: "variable",
                                  dataType: "bit",
                                  bit: 2,
                                  hidden: true,
                                },
                                {
                                  id: "cleared-1-%index%",
                                  name: "Cleared Difficulty",
                                  offset: 0x765,
                                  type: "variable",
                                  dataType: "uint8",
                                  resource: "difficulties",
                                },
                                {
                                  name: "Highscore",
                                  offset: 0x770,
                                  type: "variable",
                                  dataType: "uint32",
                                  bigEndian: true,
                                  max: 99999999,
                                },
                              ],
                            },
                            {
                              name: "Cleared by Characters",
                              type: "bitflags",
                              hidden: true,
                              flags: [
                                { offset: 0x3f, bit: 0, label: "C. Falcon" },
                                { offset: 0x3f, bit: 1, label: "DK" },
                                { offset: 0x3f, bit: 2, label: "Fox" },
                                { offset: 0x3f, bit: 3, label: "Mr. Game & Watch" },
                                { offset: 0x3f, bit: 4, label: "Kirby" },
                                { offset: 0x3f, bit: 5, label: "Bowser" },
                                { offset: 0x3f, bit: 6, label: "Link" },
                                { offset: 0x3f, bit: 7, label: "Luigi" },
                                { offset: 0x3e, bit: 0, label: "Mario" },
                                { offset: 0x3e, bit: 1, label: "Marth" },
                                { offset: 0x3e, bit: 2, label: "Mewtwo" },
                                { offset: 0x3e, bit: 3, label: "Ness" },
                                { offset: 0x3e, bit: 4, label: "Peach" },
                                { offset: 0x3e, bit: 5, label: "Pikachu" },
                                { offset: 0x3e, bit: 6, label: "Ice Climbers" },
                                { offset: 0x3e, bit: 7, label: "Jigglypuff" },
                                { offset: 0x3d, bit: 0, label: "Samus" },
                                { offset: 0x3d, bit: 1, label: "Yoshi" },
                                { offset: 0x3d, bit: 2, label: "Zelda" },
                                { offset: 0x3d, bit: 3, label: "Falco" },
                                { offset: 0x3d, bit: 4, label: "Young Link" },
                                { offset: 0x3d, bit: 5, label: "Dr. Mario" },
                                { offset: 0x3d, bit: 6, label: "Roy" },
                                { offset: 0x3d, bit: 7, label: "Pichu" },
                                { offset: 0x3c, bit: 0, label: "Ganondorf" },
                                { offset: 0x3c, bit: 1, label: "???" },
                                { offset: 0x3c, bit: 2, label: "???" },
                                { offset: 0x3c, bit: 3, label: "???" },
                                { offset: 0x3c, bit: 4, label: "???" },
                                { offset: 0x3c, bit: 5, label: "???" },
                                { offset: 0x3c, bit: 6, label: "???" },
                                { offset: 0x3c, bit: 7, label: "???" },
                              ],
                            },
                          ],
                        },
                        {
                          name: "All-Star",
                          items: [
                            {
                              length: 0xac,
                              type: "container",
                              instanceType: "tabs",
                              instances: 25,
                              resource: "characters",
                              resourceOrder: true,
                              vertical: true,
                              flex: true,
                              items: [
                                {
                                  name: "Cleared",
                                  offset: 0x760,
                                  type: "variable",
                                  dataType: "bit",
                                  bit: 1,
                                  hidden: true,
                                },
                                {
                                  id: "cleared-2-%index%",
                                  name: "Cleared Difficulty",
                                  offset: 0x766,
                                  type: "variable",
                                  dataType: "uint8",
                                  resource: "difficulties",
                                },
                                {
                                  name: "Highscore",
                                  offset: 0x774,
                                  type: "variable",
                                  dataType: "uint32",
                                  bigEndian: true,
                                  max: 99999999,
                                },
                              ],
                            },
                            {
                              name: "Cleared by Characters",
                              type: "bitflags",
                              hidden: true,
                              flags: [
                                { offset: 0x43, bit: 0, label: "C. Falcon" },
                                { offset: 0x43, bit: 1, label: "DK" },
                                { offset: 0x43, bit: 2, label: "Fox" },
                                { offset: 0x43, bit: 3, label: "Mr. Game & Watch" },
                                { offset: 0x43, bit: 4, label: "Kirby" },
                                { offset: 0x43, bit: 5, label: "Bowser" },
                                { offset: 0x43, bit: 6, label: "Link" },
                                { offset: 0x43, bit: 7, label: "Luigi" },
                                { offset: 0x42, bit: 0, label: "Mario" },
                                { offset: 0x42, bit: 1, label: "Marth" },
                                { offset: 0x42, bit: 2, label: "Mewtwo" },
                                { offset: 0x42, bit: 3, label: "Ness" },
                                { offset: 0x42, bit: 4, label: "Peach" },
                                { offset: 0x42, bit: 5, label: "Pikachu" },
                                { offset: 0x42, bit: 6, label: "Ice Climbers" },
                                { offset: 0x42, bit: 7, label: "Jigglypuff" },
                                { offset: 0x41, bit: 0, label: "Samus" },
                                { offset: 0x41, bit: 1, label: "Yoshi" },
                                { offset: 0x41, bit: 2, label: "Zelda" },
                                { offset: 0x41, bit: 3, label: "Falco" },
                                { offset: 0x41, bit: 4, label: "Young Link" },
                                { offset: 0x41, bit: 5, label: "Dr. Mario" },
                                { offset: 0x41, bit: 6, label: "Roy" },
                                { offset: 0x41, bit: 7, label: "Pichu" },
                                { offset: 0x40, bit: 0, label: "Ganondorf" },
                                { offset: 0x40, bit: 1, label: "???" },
                                { offset: 0x40, bit: 2, label: "???" },
                                { offset: 0x40, bit: 3, label: "???" },
                                { offset: 0x40, bit: 4, label: "???" },
                                { offset: 0x40, bit: 5, label: "???" },
                                { offset: 0x40, bit: 6, label: "???" },
                                { offset: 0x40, bit: 7, label: "???" },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
                {
                  name: "Event Match",
                  items: [
                    {
                      type: "tabs",
                      vertical: true,
                      items: eventMatches.map(
                        (range) =>
                          ({
                            name: range.name,
                            items: range.matches.map((match) => ({
                              name: match.name,
                              type: "section",
                              flex: true,
                              items: [
                                {
                                  name: "Progression",
                                  offset: 0x227 - Math.floor(match.index / 8),
                                  type: "variable",
                                  dataType: "bit",
                                  bit: match.index % 8,
                                  resource: "progressions",
                                },
                                (match.type === "Time" && {
                                  name: "Time",
                                  type: "group",
                                  mode: "chrono",
                                  items: [
                                    {
                                      offset: 0x228 + match.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "/": 60 },
                                        {
                                          convert: {
                                            from: "seconds",
                                            to: "minutes",
                                          },
                                        },
                                      ],
                                      max: 59,
                                    },
                                    {
                                      offset: 0x228 + match.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "/": 60 },
                                        {
                                          convert: {
                                            from: "seconds",
                                            to: "seconds",
                                          },
                                        },
                                      ],
                                      leadingZeros: 1,
                                      max: 59,
                                    },
                                    {
                                      offset: 0x228 + match.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "/": 60 },
                                        {
                                          convert: {
                                            from: "seconds",
                                            to: "milliseconds",
                                          },
                                        },
                                        { round: 0 },
                                      ],
                                      leadingZeros: 2,
                                      max: 999,
                                      step: 100,
                                    },
                                  ],
                                }) || {
                                  name: match.type,
                                  offset: 0x228 + match.index * 0x4,
                                  type: "variable",
                                  dataType: "int32",
                                  bigEndian: true,
                                  min: 0,
                                },
                              ],
                            })),
                          }) as ItemTab,
                      ),
                    },
                  ],
                },
                {
                  name: "Stadium",
                  items: [
                    {
                      type: "tabs",
                      items: [
                        {
                          name: "Target Test",
                          items: [
                            {
                              length: 0xac,
                              type: "container",
                              instanceType: "tabs",
                              instances: 25,
                              resource: "characters",
                              resourceOrder: true,
                              vertical: true,
                              flex: true,
                              items: [
                                {
                                  id: "targetTest-%index%",
                                  name: "Progression",
                                  offset: 0x760,
                                  type: "variable",
                                  dataType: "bit",
                                  bit: 7,
                                  resource: "progressions",
                                },
                                {
                                  id: "targetTest-count-%index%",
                                  name: "Highscore",
                                  offset: 0x778,
                                  type: "variable",
                                  dataType: "uint32",
                                  bigEndian: true,
                                  max: 9,
                                },
                                {
                                  id: "targetTest-group-%index%",
                                  name: "Highscore",
                                  type: "group",
                                  mode: "chrono",
                                  items: [
                                    {
                                      id: "targetTest-time-%index%",
                                      offset: 0x778,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "/": 60 },
                                        {
                                          convert: {
                                            from: "seconds",
                                            to: "minutes",
                                          },
                                        },
                                      ],
                                      max: 59,
                                    },
                                    {
                                      id: "targetTest-time-%index%",
                                      offset: 0x778,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "/": 60 },
                                        {
                                          convert: {
                                            from: "seconds",
                                            to: "seconds",
                                          },
                                        },
                                      ],
                                      leadingZeros: 1,
                                      max: 59,
                                    },
                                    {
                                      id: "targetTest-time-%index%",
                                      offset: 0x778,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "/": 60 },
                                        {
                                          convert: {
                                            from: "seconds",
                                            to: "milliseconds",
                                          },
                                        },
                                        { round: 0 },
                                      ],
                                      leadingZeros: 2,
                                      max: 999,
                                      step: 100,
                                    },
                                  ],
                                },
                                {
                                  name: "Unlockables Trophies Related",
                                  offset: 0x9c,
                                  type: "variable",
                                  dataType: "uint32",
                                  bigEndian: true,
                                  overrideShift: {
                                    parent: 1,
                                    shift: 0x4,
                                  },
                                  hidden: true,
                                },
                              ],
                            },
                            {
                              type: "section",
                              flex: true,
                              hidden: true,
                              items: [
                                {
                                  name: "Cleared by Characters (Characters)",
                                  type: "bitflags",
                                  hidden: true,
                                  flags: [
                                    { offset: 0x47, bit: 0, label: "C. Falcon" },
                                    { offset: 0x47, bit: 1, label: "DK" },
                                    { offset: 0x47, bit: 2, label: "Fox" },
                                    { offset: 0x47, bit: 3, label: "Mr. Game & Watch" },
                                    { offset: 0x47, bit: 4, label: "Kirby" },
                                    { offset: 0x47, bit: 5, label: "Bowser" },
                                    { offset: 0x47, bit: 6, label: "Link" },
                                    { offset: 0x47, bit: 7, label: "Luigi" },
                                    { offset: 0x46, bit: 0, label: "Mario" },
                                    { offset: 0x46, bit: 1, label: "Marth" },
                                    { offset: 0x46, bit: 2, label: "Mewtwo" },
                                    { offset: 0x46, bit: 3, label: "Ness" },
                                    { offset: 0x46, bit: 4, label: "Peach" },
                                    { offset: 0x46, bit: 5, label: "Pikachu" },
                                    { offset: 0x46, bit: 6, label: "Ice Climbers" },
                                    { offset: 0x46, bit: 7, label: "Jigglypuff" },
                                    { offset: 0x45, bit: 0, label: "Samus" },
                                    { offset: 0x45, bit: 1, label: "Yoshi" },
                                    { offset: 0x45, bit: 2, label: "Zelda" },
                                    { offset: 0x45, bit: 3, label: "Falco" },
                                    { offset: 0x45, bit: 4, label: "Young Link" },
                                    { offset: 0x45, bit: 5, label: "Dr. Mario" },
                                    { offset: 0x45, bit: 6, label: "Roy" },
                                    { offset: 0x45, bit: 7, label: "Pichu" },
                                    { offset: 0x44, bit: 0, label: "Ganondorf" },
                                    { offset: 0x44, bit: 1, label: "???" },
                                    { offset: 0x44, bit: 2, label: "???" },
                                    { offset: 0x44, bit: 3, label: "???" },
                                    { offset: 0x44, bit: 4, label: "???" },
                                    { offset: 0x44, bit: 5, label: "???" },
                                    { offset: 0x44, bit: 6, label: "???" },
                                    { offset: 0x44, bit: 7, label: "???" },
                                  ],
                                },
                                {
                                  name: "Cleared by Characters (Stages)",
                                  type: "bitflags",
                                  hidden: true,
                                  flags: [
                                    { offset: 0x4f, bit: 0, label: "C. Falcon" },
                                    { offset: 0x4f, bit: 1, label: "DK" },
                                    { offset: 0x4f, bit: 2, label: "Fox" },
                                    { offset: 0x4f, bit: 3, label: "Mr. Game & Watch" },
                                    { offset: 0x4f, bit: 4, label: "Kirby" },
                                    { offset: 0x4f, bit: 5, label: "Bowser" },
                                    { offset: 0x4f, bit: 6, label: "Link" },
                                    { offset: 0x4f, bit: 7, label: "Luigi" },
                                    { offset: 0x4e, bit: 0, label: "Mario" },
                                    { offset: 0x4e, bit: 1, label: "Marth" },
                                    { offset: 0x4e, bit: 2, label: "Mewtwo" },
                                    { offset: 0x4e, bit: 3, label: "Ness" },
                                    { offset: 0x4e, bit: 4, label: "Peach" },
                                    { offset: 0x4e, bit: 5, label: "Pikachu" },
                                    { offset: 0x4e, bit: 6, label: "Ice Climbers" },
                                    { offset: 0x4e, bit: 7, label: "Jigglypuff" },
                                    { offset: 0x4d, bit: 0, label: "Samus" },
                                    { offset: 0x4d, bit: 1, label: "Yoshi" },
                                    { offset: 0x4d, bit: 2, label: "Zelda" },
                                    { offset: 0x4d, bit: 3, label: "Falco" },
                                    { offset: 0x4d, bit: 4, label: "Young Link" },
                                    { offset: 0x4d, bit: 5, label: "Dr. Mario" },
                                    { offset: 0x4d, bit: 6, label: "Roy" },
                                    { offset: 0x4d, bit: 7, label: "Pichu" },
                                    { offset: 0x4c, bit: 0, label: "Ganondorf" },
                                    { offset: 0x4c, bit: 1, label: "???" },
                                    { offset: 0x4c, bit: 2, label: "???" },
                                    { offset: 0x4c, bit: 3, label: "???" },
                                    { offset: 0x4c, bit: 4, label: "???" },
                                    { offset: 0x4c, bit: 5, label: "???" },
                                    { offset: 0x4c, bit: 6, label: "???" },
                                    { offset: 0x4c, bit: 7, label: "???" },
                                  ],
                                },
                                {
                                  name: "Cleared by Characters (Trophies)",
                                  type: "bitflags",
                                  hidden: true,
                                  flags: [
                                    { offset: 0x5b, bit: 0, label: "C. Falcon" },
                                    { offset: 0x5b, bit: 1, label: "DK" },
                                    { offset: 0x5b, bit: 2, label: "Fox" },
                                    { offset: 0x5b, bit: 3, label: "Mr. Game & Watch" },
                                    { offset: 0x5b, bit: 4, label: "Kirby" },
                                    { offset: 0x5b, bit: 5, label: "Bowser" },
                                    { offset: 0x5b, bit: 6, label: "Link" },
                                    { offset: 0x5b, bit: 7, label: "Luigi" },
                                    { offset: 0x5a, bit: 0, label: "Mario" },
                                    { offset: 0x5a, bit: 1, label: "Marth" },
                                    { offset: 0x5a, bit: 2, label: "Mewtwo" },
                                    { offset: 0x5a, bit: 3, label: "Ness" },
                                    { offset: 0x5a, bit: 4, label: "Peach" },
                                    { offset: 0x5a, bit: 5, label: "Pikachu" },
                                    { offset: 0x5a, bit: 6, label: "Ice Climbers" },
                                    { offset: 0x5a, bit: 7, label: "Jigglypuff" },
                                    { offset: 0x59, bit: 0, label: "Samus" },
                                    { offset: 0x59, bit: 1, label: "Yoshi" },
                                    { offset: 0x59, bit: 2, label: "Zelda" },
                                    { offset: 0x59, bit: 3, label: "Falco" },
                                    { offset: 0x59, bit: 4, label: "Young Link" },
                                    { offset: 0x59, bit: 5, label: "Dr. Mario" },
                                    { offset: 0x59, bit: 6, label: "Roy" },
                                    { offset: 0x59, bit: 7, label: "Pichu" },
                                    { offset: 0x58, bit: 0, label: "Ganondorf" },
                                    { offset: 0x58, bit: 1, label: "???" },
                                    { offset: 0x58, bit: 2, label: "???" },
                                    { offset: 0x58, bit: 3, label: "???" },
                                    { offset: 0x58, bit: 4, label: "???" },
                                    { offset: 0x58, bit: 5, label: "???" },
                                    { offset: 0x58, bit: 6, label: "???" },
                                    { offset: 0x58, bit: 7, label: "???" },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        {
                          name: "Home-Run Contest",
                          flex: true,
                          items: Object.values(characters).reduce(
                            (characters: ItemInt[], character, index) => {
                              characters[charactersSorted[index] * 2] = {
                                name: character,
                                offset: 0x100 + index * 0x4,
                                type: "variable",
                                dataType: "uint32",
                                bigEndian: true,
                                operations: [{ "/": 100 }],
                                hidden: true,
                              };

                              characters[charactersSorted[index] * 2 + 1] = {
                                id: `homeRunContest-${index}`,
                                name: character,
                                offset: 0x768 + index * 0xac,
                                type: "variable",
                                dataType: "uint32",
                                bigEndian: true,
                                operations: [{ "/": 100 }],
                              };

                              return characters;
                            },
                            [],
                          ),
                        },
                        {
                          name: "Multi-Man Melee",
                          items: [
                            {
                              length: 0xac,
                              type: "container",
                              instanceType: "tabs",
                              instances: 25,
                              resource: "characters",
                              resourceOrder: true,
                              vertical: true,
                              items: [
                                {
                                  name: "10-Man Melee",
                                  type: "section",
                                  flex: true,
                                  items: [
                                    {
                                      id: "10ManMelee-%index%",
                                      name: "Progression",
                                      offset: 0x760,
                                      type: "variable",
                                      dataType: "bit",
                                      bit: 6,
                                      resource: "progressions",
                                    },
                                    {
                                      id: "10ManMelee-count-%index%",
                                      name: "Highscore",
                                      offset: 0x77c,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      max: 9,
                                    },
                                    {
                                      id: "10ManMelee-group-%index%",
                                      name: "Highscore",
                                      type: "group",
                                      mode: "chrono",
                                      items: [
                                        {
                                          offset: 0x77c,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            { "/": 60 },
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "minutes",
                                              },
                                            },
                                          ],
                                          max: 59,
                                        },
                                        {
                                          offset: 0x77c,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            { "/": 60 },
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "seconds",
                                              },
                                            },
                                          ],
                                          leadingZeros: 1,
                                          max: 59,
                                        },
                                        {
                                          offset: 0x77c,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            { "/": 60 },
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "milliseconds",
                                              },
                                            },
                                            { round: 0 },
                                          ],
                                          leadingZeros: 2,
                                          max: 999,
                                          step: 100,
                                        },
                                      ],
                                    },
                                  ],
                                },
                                {
                                  name: "100-Man Melee",
                                  type: "section",
                                  flex: true,
                                  items: [
                                    {
                                      id: "100ManMelee-%index%",
                                      name: "Progression",
                                      offset: 0x760,
                                      type: "variable",
                                      dataType: "bit",
                                      bit: 5,
                                      resource: "progressions",
                                    },
                                    {
                                      id: "100ManMelee-count-%index%",
                                      name: "Highscore",
                                      offset: 0x780,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      max: 99,
                                    },
                                    {
                                      id: "100ManMelee-group-%index%",
                                      name: "Highscore",
                                      type: "group",
                                      mode: "chrono",
                                      items: [
                                        {
                                          offset: 0x780,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            { "/": 60 },
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "minutes",
                                              },
                                            },
                                          ],
                                          max: 59,
                                        },
                                        {
                                          offset: 0x780,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            { "/": 60 },
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "seconds",
                                              },
                                            },
                                          ],
                                          leadingZeros: 1,
                                          max: 59,
                                        },
                                        {
                                          offset: 0x780,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            { "/": 60 },
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "milliseconds",
                                              },
                                            },
                                            { round: 0 },
                                          ],
                                          leadingZeros: 2,
                                          max: 999,
                                          step: 100,
                                        },
                                      ],
                                    },
                                  ],
                                },
                                {
                                  name: "Time Melee",
                                  type: "section",
                                  flex: true,
                                  items: [
                                    {
                                      name: "3-Minute Melee",
                                      offset: 0x784,
                                      type: "variable",
                                      dataType: "uint16",
                                      bigEndian: true,
                                    },
                                    {
                                      name: "15-Minute Melee Cleared",
                                      offset: 0x760,
                                      type: "variable",
                                      dataType: "bit",
                                      bit: 4,
                                      hidden: true,
                                    },
                                    {
                                      id: "15MinuteMelee",
                                      name: "15-Minute Melee",
                                      offset: 0x786,
                                      type: "variable",
                                      dataType: "uint16",
                                      bigEndian: true,
                                    },
                                    {
                                      name: "Endless Melee",
                                      offset: 0x788,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                    },
                                    {
                                      name: "Cruel Melee",
                                      offset: 0x78c,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
                {
                  name: "Training",
                  flex: true,
                  items: Object.values(characters).reduce(
                    (characters: ItemInt[], character, index) => {
                      characters[charactersSorted[index] * 2] = {
                        name: character,
                        offset: 0x164 + index * 0x4,
                        type: "variable",
                        dataType: "uint32",
                        bigEndian: true,
                        hidden: true,
                      };

                      characters[charactersSorted[index] * 2 + 1] = {
                        id: `training-${index}`,
                        name: character,
                        offset: 0x762 + index * 0xac,
                        type: "variable",
                        dataType: "uint16",
                        bigEndian: true,
                      };

                      return characters;
                    },
                    [],
                  ),
                },
              ],
            },
          ],
        },
        {
          name: "VS. Mode",
          items: [
            {
              type: "tabs",
              items: [
                {
                  name: "Item Switch",
                  items: [
                    {
                      type: "section",
                      items: [
                        {
                          name: "Frequency",
                          offset: 0x468,
                          type: "variable",
                          dataType: "uint8",
                          resource: "frequencies",
                        },
                      ],
                    },
                    {
                      type: "section",
                      flex: true,
                      items: [
                        {
                          type: "bitflags",
                          flags: [
                            { offset: 0x477, bit: 5, label: "Food" },
                            { offset: 0x475, bit: 2, label: "Maxim Tomato" },
                            { offset: 0x476, bit: 2, label: "Heart Container" },
                            { offset: 0x474, bit: 6, label: "Warp Star" },
                            { offset: 0x476, bit: 5, label: "Ray Gun" },
                            { offset: 0x474, bit: 0, label: "Super Scope" },
                            { offset: 0x477, bit: 3, label: "Fire Flower" },
                            { offset: 0x476, bit: 6, label: "Lip's Stick" },
                            { offset: 0x475, bit: 7, label: "Star Rod" },
                            { offset: 0x474, bit: 3, label: "Beam Sword" },
                            { offset: 0x477, bit: 1, label: "Home-Run Bat" },
                            { offset: 0x476, bit: 1, label: "Fan" },
                            { offset: 0x476, bit: 0, label: "Hammer" },
                            { offset: 0x477, bit: 7, label: "Green Shell" },
                            { offset: 0x475, bit: 5, label: "Red Shell" },
                            { offset: 0x477, bit: 4, label: "Flipper" },
                          ],
                        },
                        {
                          type: "bitflags",
                          flags: [
                            { offset: 0x477, bit: 6, label: "Freezie" },
                            { offset: 0x477, bit: 2, label: "Mr. Saturn" },
                            { offset: 0x476, bit: 7, label: "Pok√© Ball" },
                            { offset: 0x477, bit: 0, label: "Bob-omb" },
                            { offset: 0x475, bit: 1, label: "Proximity Mine" },
                            { offset: 0x476, bit: 3, label: "Super Mushroom" },
                            { offset: 0x474, bit: 7, label: "Poison Mushroom" },
                            { offset: 0x474, bit: 2, label: "Starman" },
                            { offset: 0x475, bit: 4, label: "Parasol" },
                            { offset: 0x474, bit: 1, label: "Screw Attack" },
                            { offset: 0x475, bit: 0, label: "Metal Box" },
                            { offset: 0x475, bit: 6, label: "Bunny Hood" },
                            { offset: 0x475, bit: 3, label: "Cloaking Device" },
                            { offset: 0x474, bit: 5, label: "Barrel Cannon" },
                            { offset: 0x476, bit: 4, label: "Party Ball" },
                            { offset: 0x474, bit: 4, label: "???", hidden: true },
                          ],
                        },
                      ],
                    },
                  ],
                },
                {
                  name: "Random Stage",
                  flex: true,
                  items: [
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x483, bit: 0, label: "Princess Peach's Castle" },
                        { offset: 0x483, bit: 1, label: "Kongo Jungle" },
                        { offset: 0x483, bit: 2, label: "Great Bay" },
                        { offset: 0x483, bit: 3, label: "Brinstar" },
                        { offset: 0x483, bit: 4, label: "Yoshi's Story" },
                        { offset: 0x483, bit: 5, label: "Fountain of Dreams" },
                        { offset: 0x483, bit: 6, label: "Corneria" },
                        { offset: 0x483, bit: 7, label: "Pok√©mon Stadium" },
                        { offset: 0x482, bit: 0, label: "Mute City" },
                        { offset: 0x482, bit: 1, label: "Onett" },
                        { offset: 0x482, bit: 3, label: "Mushroom Kingdom" },
                        { offset: 0x482, bit: 2, label: "Icicle Mountain" },
                        { offset: 0x480, bit: 0, label: "Battlefield" },
                        { offset: 0x480, bit: 2, label: "Dream Land N64" },
                        { offset: 0x480, bit: 4, label: "Kongo Jungle N64" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x482, bit: 4, label: "Rainbow Ride" },
                        { offset: 0x482, bit: 5, label: "Jungle Japes" },
                        { offset: 0x482, bit: 6, label: "Temple" },
                        { offset: 0x482, bit: 7, label: "Brinstar Depths" },
                        { offset: 0x481, bit: 0, label: "Yoshi's Island" },
                        { offset: 0x481, bit: 1, label: "Green Greens" },
                        { offset: 0x481, bit: 2, label: "Venom" },
                        { offset: 0x481, bit: 3, label: "Pok√© Floats" },
                        { offset: 0x481, bit: 4, label: "Big Blue" },
                        { offset: 0x481, bit: 5, label: "Fourside" },
                        { offset: 0x481, bit: 6, label: "Mushroom Kingdom II" },
                        { offset: 0x481, bit: 7, label: "Flat Zone" },
                        { offset: 0x480, bit: 1, label: "Final Destination" },
                        { offset: 0x480, bit: 3, label: "Yoshi's Island N64" },
                        { offset: 0x480, bit: 5, label: "???", hidden: true },
                        { offset: 0x480, bit: 6, label: "???", hidden: true },
                        { offset: 0x480, bit: 7, label: "???", hidden: true },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        {
          name: "Trophies",
          items: [
            {
              type: "section",
              items: [
                {
                  name: "Count",
                  offset: 0x488,
                  type: "variable",
                  dataType: "uint16",
                  bigEndian: true,
                  disabled: true,
                },
              ],
            },
            {
              name: "Pools",
              type: "bitflags",
              hidden: true,
              flags: [
                { offset: 0x48b, bit: 0, label: "???", hidden: true },
                { offset: 0x48b, bit: 1, label: "???", hidden: true },
                { offset: 0x48b, bit: 2, label: "Pool 1" },
                { offset: 0x48b, bit: 3, label: "???", hidden: true },
                { offset: 0x48b, bit: 4, label: "Pool 2" },
                { offset: 0x48b, bit: 5, label: "Pool 3" },
                { offset: 0x48b, bit: 6, label: "Pool 4" },
                { offset: 0x48b, bit: 7, label: "Pool 5" },
              ],
            },
            {
              type: "section",
              flex: true,
              items: [...Array(293).keys()].reduce(
                (trophies: ItemInt[], index) => {
                  trophies.push(
                    {
                      id: `trophy-${index}`,
                      offset: 0x48d + index * 0x2,
                      type: "variable",
                      dataType: "uint8",
                    },
                    {
                      id: `trophy-${index}`,
                      offset:
                        0x313 +
                        Math.floor(index / 0x20) * 0x8 -
                        Math.floor(index / 8),
                      type: "variable",
                      dataType: "bit",
                      bit: index % 8,
                      hidden: true,
                    },
                  );

                  return trophies;
                },
                [],
              ),
            },
          ],
        },
        {
          name: "Options",
          items: [
            {
              type: "section",
              flex: true,
              items: [
                {
                  name: "P1 Rumble",
                  offset: 0x478,
                  type: "variable",
                  dataType: "uint8",
                  resource: "optionBoolean",
                },
                {
                  name: "P2 Rumble",
                  offset: 0x479,
                  type: "variable",
                  dataType: "uint8",
                  resource: "optionBoolean",
                },
                {
                  name: "P3 Rumble",
                  offset: 0x47a,
                  type: "variable",
                  dataType: "uint8",
                  resource: "optionBoolean",
                },
                {
                  name: "P4 Rumble",
                  offset: 0x47b,
                  type: "variable",
                  dataType: "uint8",
                  resource: "optionBoolean",
                },
              ],
            },
            {
              type: "section",
              flex: true,
              items: [
                {
                  name: "Sounds <> Music",
                  offset: 0x47c,
                  type: "variable",
                  dataType: "int8",
                  hidden: true,
                },
                {
                  id: "sounds",
                  name: "Sounds",
                  offset: 0x47c,
                  type: "variable",
                  dataType: "uint8",
                  max: 200,
                },
                {
                  id: "music",
                  name: "Music",
                  offset: 0x47c,
                  type: "variable",
                  dataType: "uint8",
                  max: 200,
                },
              ],
            },
            {
              type: "section",
              flex: true,
              items: [
                {
                  name: "Screen Deflicker",
                  offset: 0x47d,
                  type: "variable",
                  dataType: "uint8",
                  resource: "optionBoolean",
                },
              ],
            },
            {
              type: "section",
              flex: true,
              items: [
                {
                  name: "Language",
                  offset: 0x47e,
                  type: "variable",
                  dataType: "uint8",
                  resource: "languages",
                },
              ],
            },
          ],
        },
        {
          name: "Data",
          items: [
            {
              type: "tabs",
              items: [
                {
                  name: "VS. Records",
                  flex: true,
                  items: [
                    {
                      length: 0xac,
                      type: "container",
                      instanceType: "tabs",
                      instances: 25,
                      resource: "characters",
                      resourceOrder: true,
                      vertical: true,
                      flex: true,
                      items: [
                        {
                          type: "tabs",
                          items: [
                            {
                              name: "General",
                              items: [
                                {
                                  type: "section",
                                  flex: true,
                                  items: [
                                    {
                                      name: "Played Once",
                                      offset: 0x75e,
                                      type: "variable",
                                      dataType: "bit",
                                      bit: 7,
                                      hidden: true,
                                    },
                                    {
                                      name: "Self-Destructs",
                                      offset: 0x718,
                                      type: "variable",
                                      dataType: "uint16",
                                      bigEndian: true,
                                    },
                                  ],
                                },
                                {
                                  type: "section",
                                  flex: true,
                                  items: [
                                    {
                                      name: "Successful Hits",
                                      offset: 0x71c,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                    },
                                    {
                                      name: "Hits",
                                      offset: 0x720,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                    },
                                    {
                                      id: "hitPercentage",
                                      name: "Hit Percentage",
                                      offset: 0x71c,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      suffix: "%",
                                      disabled: true,
                                    },
                                  ],
                                },
                                {
                                  type: "section",
                                  flex: true,
                                  items: [
                                    {
                                      name: "Damage Given",
                                      offset: 0x724,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      suffix: "%",
                                    },
                                    {
                                      name: "Damage Taken",
                                      offset: 0x728,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      suffix: "%",
                                    },
                                    {
                                      name: "Damage Recovered",
                                      offset: 0x72c,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      suffix: "%",
                                    },
                                    {
                                      name: "Peak Damage",
                                      offset: 0x730,
                                      type: "variable",
                                      dataType: "uint16",
                                      bigEndian: true,
                                      suffix: "%",
                                    },
                                  ],
                                },
                                {
                                  type: "section",
                                  flex: true,
                                  items: [
                                    {
                                      name: "Matches",
                                      offset: 0x732,
                                      type: "variable",
                                      dataType: "uint16",
                                      bigEndian: true,
                                    },
                                    {
                                      name: "Victories",
                                      offset: 0x734,
                                      type: "variable",
                                      dataType: "uint16",
                                      bigEndian: true,
                                    },
                                    {
                                      name: "Losses",
                                      offset: 0x736,
                                      type: "variable",
                                      dataType: "uint16",
                                      bigEndian: true,
                                    },
                                    {
                                      name: "Play Count",
                                      offset: 0x68,
                                      type: "variable",
                                      dataType: "uint16",
                                      bigEndian: true,
                                      overrideShift: {
                                        parent: 1,
                                        shift: 0x2,
                                      },
                                    },
                                  ],
                                },
                                {
                                  type: "section",
                                  flex: true,
                                  items: [
                                    {
                                      name: "VS. Play Time",
                                      type: "group",
                                      mode: "time",
                                      items: [
                                        {
                                          offset: 0x738,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "hours",
                                              },
                                            },
                                          ],
                                          max: 999,
                                        },
                                        {
                                          offset: 0x738,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "minutes",
                                              },
                                            },
                                          ],
                                          leadingZeros: 1,
                                          max: 59,
                                        },
                                        {
                                          offset: 0x738,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [
                                            {
                                              convert: {
                                                from: "seconds",
                                                to: "seconds",
                                              },
                                            },
                                          ],
                                          leadingZeros: 1,
                                          max: 59,
                                        },
                                      ],
                                    },
                                    {
                                      name: "Average Players Related",
                                      offset: 0x73c,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      hidden: true,
                                    },
                                    {
                                      type: "section",
                                      flex: true,
                                      items: [
                                        {
                                          name: "Ground Distance",
                                          offset: 0x740,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [{ "/": 100000 }],
                                        },
                                        {
                                          name: "Jump Distance",
                                          offset: 0x744,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [{ "/": 100000 }],
                                        },
                                        {
                                          name: "Drop Distance",
                                          offset: 0x748,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [{ "/": 100000 }],
                                        },
                                        {
                                          name: "Flight Distance",
                                          offset: 0x74c,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                          operations: [{ "/": 100000 }],
                                        },
                                      ],
                                    },
                                    {
                                      type: "section",
                                      flex: true,
                                      items: [
                                        {
                                          name: "Coin Points",
                                          offset: 0x750,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                        },
                                        {
                                          name: "Swiped Coins",
                                          offset: 0x754,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                        },
                                        {
                                          name: "Lost Coin",
                                          offset: 0x758,
                                          type: "variable",
                                          dataType: "uint32",
                                          bigEndian: true,
                                        },
                                      ],
                                    },
                                  ],
                                },
                              ],
                            },
                            {
                              name: "KOs",
                              flex: true,
                              items: Object.values(characters).reduce(
                                (characters: ItemInt[], character, index) => {
                                  characters[charactersSorted[index]] = {
                                    id: `kos-%index%-${index}`,
                                    name: character,
                                    offset: 0x6e4 + index * 0x2,
                                    type: "variable",
                                    dataType: "uint16",
                                    bigEndian: true,
                                  };

                                  return characters;
                                },
                                [],
                              ),
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
                {
                  name: "Bonus Records",
                  flex: true,
                  items: [
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x443, bit: 0, label: "Bird of Prey" },
                        { offset: 0x443, bit: 1, label: "Combo King" },
                        { offset: 0x443, bit: 2, label: "Juggler" },
                        { offset: 0x443, bit: 3, label: "Backstabber" },
                        { offset: 0x443, bit: 4, label: "Sweeper" },
                        { offset: 0x443, bit: 5, label: "Clean Sweep" },
                        { offset: 0x443, bit: 6, label: "Meteor Smash" },
                        { offset: 0x443, bit: 7, label: "Meteor Clear" },
                        { offset: 0x442, bit: 0, label: "Meteor Master" },
                        { offset: 0x442, bit: 1, label: "Crash & Burn" },
                        { offset: 0x442, bit: 2, label: "Meteor Survivor" },
                        { offset: 0x442, bit: 3, label: "Flying Meteor" },
                        { offset: 0x442, bit: 4, label: "Exceptional Aim" },
                        { offset: 0x442, bit: 5, label: "Perfect Aim" },
                        { offset: 0x442, bit: 6, label: "All Ground" },
                        { offset: 0x442, bit: 7, label: "All Aerial" },
                        { offset: 0x441, bit: 0, label: "All Variations" },
                        { offset: 0x441, bit: 1, label: "All on One" },
                        { offset: 0x441, bit: 2, label: "Lethal Weapon" },
                        { offset: 0x441, bit: 3, label: "Berserker" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x441, bit: 4, label: "Smash King" },
                        { offset: 0x441, bit: 5, label: "Smash Maniac" },
                        { offset: 0x441, bit: 6, label: "Smash-less" },
                        { offset: 0x441, bit: 7, label: "Specialist" },
                        { offset: 0x440, bit: 0, label: "Dedicated Specialist" },
                        { offset: 0x440, bit: 1, label: "One-Two Punch" },
                        { offset: 0x440, bit: 2, label: "First Strike" },
                        { offset: 0x440, bit: 3, label: "150% Damage" },
                        { offset: 0x440, bit: 4, label: "200% Damage" },
                        { offset: 0x440, bit: 5, label: "250% Damage" },
                        { offset: 0x440, bit: 6, label: "300% Damage" },
                        { offset: 0x440, bit: 7, label: "350% Damage" },
                        { offset: 0x447, bit: 0, label: "Heavy Damage" },
                        { offset: 0x447, bit: 1, label: "Sniper" },
                        { offset: 0x447, bit: 2, label: "Brawler" },
                        { offset: 0x447, bit: 3, label: "Precise Aim" },
                        { offset: 0x447, bit: 4, label: "Pitcher" },
                        { offset: 0x447, bit: 5, label: "Butterfingers" },
                        { offset: 0x447, bit: 6, label: "All Thumbs" },
                        { offset: 0x447, bit: 7, label: "Cuddly Bear" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x446, bit: 0, label: "Compass Tosser" },
                        { offset: 0x446, bit: 1, label: "Pool Shark" },
                        { offset: 0x446, bit: 2, label: "Throw Down" },
                        { offset: 0x446, bit: 3, label: "Pummeler" },
                        { offset: 0x446, bit: 4, label: "Fists of Fury" },
                        { offset: 0x446, bit: 5, label: "Close Call" },
                        { offset: 0x446, bit: 6, label: "Opportunist" },
                        { offset: 0x446, bit: 7, label: "Spectator" },
                        { offset: 0x445, bit: 0, label: "Statue" },
                        { offset: 0x445, bit: 1, label: "Never Look Back" },
                        { offset: 0x445, bit: 2, label: "Stiff Knees" },
                        { offset: 0x445, bit: 3, label: "Run, Don't Walk" },
                        { offset: 0x445, bit: 4, label: "Ambler" },
                        { offset: 0x445, bit: 5, label: "No Hurry" },
                        { offset: 0x445, bit: 6, label: "Marathon Man" },
                        { offset: 0x445, bit: 7, label: "Eagle" },
                        { offset: 0x444, bit: 0, label: "Aerialist" },
                        { offset: 0x444, bit: 1, label: "Acrobat" },
                        { offset: 0x444, bit: 2, label: "Cement Shoes" },
                        { offset: 0x444, bit: 3, label: "Head Banger" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x444, bit: 4, label: "Elbow Room" },
                        { offset: 0x444, bit: 5, label: "Power Shielder" },
                        { offset: 0x444, bit: 6, label: "Shield Buster" },
                        { offset: 0x444, bit: 7, label: "Shattered Shield" },
                        { offset: 0x44b, bit: 0, label: "Shield Stupidity" },
                        { offset: 0x44b, bit: 1, label: "Shield Saver" },
                        { offset: 0x44b, bit: 2, label: "Deflector" },
                        { offset: 0x44b, bit: 3, label: "Ricochet Rifler" },
                        { offset: 0x44b, bit: 4, label: "Skid Master" },
                        { offset: 0x44b, bit: 5, label: "Rock Climber" },
                        { offset: 0x44b, bit: 6, label: "Edge Hog" },
                        { offset: 0x44b, bit: 7, label: "Cliffhanger" },
                        { offset: 0x44a, bit: 0, label: "Life on the Edge" },
                        { offset: 0x44a, bit: 1, label: "Poser" },
                        { offset: 0x44a, bit: 2, label: "Poser Poseur" },
                        { offset: 0x44a, bit: 3, label: "Poser Power" },
                        { offset: 0x44a, bit: 4, label: "Pose Breaker" },
                        { offset: 0x44a, bit: 5, label: "Instant Poser" },
                        { offset: 0x45c, bit: 1, label: "Control Freak" },
                        { offset: 0x44a, bit: 6, label: "Button Masher" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x44a, bit: 7, label: "Button Holder" },
                        { offset: 0x449, bit: 0, label: "Rock Steady" },
                        { offset: 0x449, bit: 1, label: "Pratfaller" },
                        { offset: 0x449, bit: 2, label: "Face Planter" },
                        { offset: 0x449, bit: 3, label: "Twinkle Toes" },
                        { offset: 0x449, bit: 4, label: "Floor Diver" },
                        { offset: 0x449, bit: 5, label: "No R 4 U" },
                        { offset: 0x449, bit: 6, label: "Climactic Clash" },
                        { offset: 0x449, bit: 7, label: "Floored" },
                        { offset: 0x448, bit: 0, label: "Punching Bag" },
                        { offset: 0x448, bit: 1, label: "Stale Moves" },
                        { offset: 0x448, bit: 2, label: "Blind Eye" },
                        { offset: 0x448, bit: 3, label: "Crowd Favorite" },
                        { offset: 0x448, bit: 4, label: "Master of Suspense" },
                        { offset: 0x448, bit: 5, label: "Lost in Space" },
                        { offset: 0x448, bit: 6, label: "Lost Luggage" },
                        { offset: 0x448, bit: 7, label: "Half-Minute Man" },
                        { offset: 0x44f, bit: 0, label: "Pacifist" },
                        { offset: 0x45c, bit: 2, label: "Peaceful Warrior" },
                        { offset: 0x44f, bit: 1, label: "Moment of Silence" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x44f, bit: 2, label: "Impervious" },
                        { offset: 0x44f, bit: 3, label: "Immortal" },
                        { offset: 0x44f, bit: 4, label: "Switzerland" },
                        { offset: 0x44f, bit: 5, label: "Predator" },
                        { offset: 0x45c, bit: 3, label: "Down, But Not Out" },
                        { offset: 0x44f, bit: 6, label: "Solar Being" },
                        { offset: 0x44f, bit: 7, label: "Stalker" },
                        { offset: 0x44e, bit: 0, label: "Bully" },
                        { offset: 0x44e, bit: 1, label: "Coward" },
                        { offset: 0x44e, bit: 2, label: "In the Fray" },
                        { offset: 0x44e, bit: 3, label: "Friendly Foe" },
                        { offset: 0x44e, bit: 4, label: "Center Stage" },
                        { offset: 0x45c, bit: 4, label: "Merciful Master" },
                        { offset: 0x44e, bit: 5, label: "Star KO" },
                        { offset: 0x45c, bit: 5, label: "Rocket KO" },
                        { offset: 0x44e, bit: 6, label: "Wimpy KO" },
                        { offset: 0x44e, bit: 7, label: "Bull's-eye KO" },
                        { offset: 0x44d, bit: 0, label: "Poser KO" },
                        { offset: 0x44d, bit: 1, label: "Cheap KO" },
                        { offset: 0x44d, bit: 2, label: "Bank-Shot KO" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x44d, bit: 3, label: "Timely KO" },
                        { offset: 0x44d, bit: 4, label: "Special KO" },
                        { offset: 0x44d, bit: 5, label: "Hangman's KO" },
                        { offset: 0x44d, bit: 6, label: "KO 64" },
                        { offset: 0x44d, bit: 7, label: "Bubble-Blast KO" },
                        { offset: 0x44c, bit: 0, label: "Sacrificial KO" },
                        { offset: 0x44c, bit: 1, label: "Avenger KO" },
                        { offset: 0x44c, bit: 2, label: "Double KO" },
                        { offset: 0x44c, bit: 3, label: "Triple KO" },
                        { offset: 0x44c, bit: 4, label: "Quadruple KO" },
                        { offset: 0x44c, bit: 5, label: "Quintuple KO" },
                        { offset: 0x44c, bit: 6, label: "Dead-Weight KO" },
                        { offset: 0x44c, bit: 7, label: "Kiss-the-Floor KO" },
                        { offset: 0x453, bit: 0, label: "Assisted KO" },
                        { offset: 0x453, bit: 1, label: "Foresight" },
                        { offset: 0x453, bit: 2, label: "First to Fall" },
                        { offset: 0x453, bit: 3, label: "Cliff Diver" },
                        { offset: 0x453, bit: 4, label: "Quitter" },
                        { offset: 0x453, bit: 5, label: "Shameful Fall" },
                        { offset: 0x453, bit: 6, label: "World Traveler" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x453, bit: 7, label: "Ground Pounded" },
                        { offset: 0x452, bit: 0, label: "Environmental Hazard" },
                        { offset: 0x452, bit: 1, label: "Angelic" },
                        { offset: 0x452, bit: 2, label: "Magnified Finish" },
                        { offset: 0x452, bit: 3, label: "Fighter Stance" },
                        { offset: 0x452, bit: 4, label: "Mystic" },
                        { offset: 0x452, bit: 5, label: "Shooting Star" },
                        { offset: 0x452, bit: 6, label: "Lucky Number Seven" },
                        { offset: 0x452, bit: 7, label: "Last Second" },
                        { offset: 0x451, bit: 0, label: "Lucky Threes" },
                        { offset: 0x451, bit: 1, label: "Jackpot" },
                        { offset: 0x451, bit: 2, label: "Full Power" },
                        { offset: 0x451, bit: 3, label: "Item-less" },
                        { offset: 0x451, bit: 4, label: "Item Specialist" },
                        { offset: 0x451, bit: 5, label: "Item Chucker" },
                        { offset: 0x451, bit: 6, label: "Item Smasher" },
                        { offset: 0x451, bit: 7, label: "Capsule KO" },
                        { offset: 0x450, bit: 0, label: "Carrier KO" },
                        { offset: 0x450, bit: 1, label: "Weight Lifter" },
                        { offset: 0x450, bit: 2, label: "Item Catcher" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x450, bit: 3, label: "Reciprocator" },
                        { offset: 0x450, bit: 4, label: "Item Self-Destruct" },
                        { offset: 0x450, bit: 5, label: "Triple Items" },
                        { offset: 0x45c, bit: 6, label: "Minimalist" },
                        { offset: 0x45c, bit: 7, label: "Materialist" },
                        { offset: 0x450, bit: 6, label: "Item Hog" },
                        { offset: 0x450, bit: 7, label: "Item Collector" },
                        { offset: 0x457, bit: 0, label: "Connoisseur" },
                        { offset: 0x457, bit: 1, label: "Gourmet" },
                        { offset: 0x457, bit: 2, label: "Battering Ram" },
                        { offset: 0x457, bit: 3, label: "Straight Shooter" },
                        { offset: 0x457, bit: 4, label: "Wimp" },
                        { offset: 0x457, bit: 5, label: "Shape-Shifter" },
                        { offset: 0x457, bit: 6, label: "Chuck Wagon" },
                        { offset: 0x457, bit: 7, label: "Parasol Finish" },
                        { offset: 0x456, bit: 0, label: "Gardener Finish" },
                        { offset: 0x456, bit: 1, label: "Flower Finish" },
                        { offset: 0x456, bit: 2, label: "Super Scoper" },
                        { offset: 0x456, bit: 3, label: "Screwed Up" },
                        { offset: 0x456, bit: 4, label: "Screw-Attack KO" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x456, bit: 5, label: "Warp-Star KO" },
                        { offset: 0x456, bit: 6, label: "Mycologist" },
                        { offset: 0x456, bit: 7, label: "Mario Maniac" },
                        { offset: 0x455, bit: 0, label: "Metal KO" },
                        { offset: 0x455, bit: 1, label: "Freezie KO" },
                        { offset: 0x455, bit: 2, label: "Flipper KO" },
                        { offset: 0x455, bit: 3, label: "Mr. Saturn Fan" },
                        { offset: 0x455, bit: 4, label: "Mrs. Saturn" },
                        { offset: 0x455, bit: 5, label: "Saturn Siblings" },
                        { offset: 0x455, bit: 6, label: "Saturn Ringer" },
                        { offset: 0x455, bit: 7, label: "Giant KO" },
                        { offset: 0x454, bit: 0, label: "Tiny KO" },
                        { offset: 0x454, bit: 1, label: "Barrel Blast KO" },
                        { offset: 0x454, bit: 2, label: "Invisible KO" },
                        { offset: 0x454, bit: 3, label: "Bunny-Hood Blast" },
                        { offset: 0x454, bit: 4, label: "Vegetarian" },
                        { offset: 0x454, bit: 5, label: "Heartthrob" },
                        { offset: 0x454, bit: 6, label: "Invincible Finish" },
                        { offset: 0x454, bit: 7, label: "Invincible KO" },
                        { offset: 0x45b, bit: 0, label: "Beam Swordsman" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x45b, bit: 1, label: "Home-Run King" },
                        { offset: 0x45b, bit: 2, label: "Laser Marksman" },
                        { offset: 0x45b, bit: 3, label: "Flame Thrower" },
                        { offset: 0x45b, bit: 4, label: "Hammer Throw" },
                        { offset: 0x45b, bit: 5, label: "Headless Hammer" },
                        { offset: 0x45b, bit: 6, label: "Super Spy" },
                        { offset: 0x45b, bit: 7, label: "Bob-omb's Away" },
                        { offset: 0x45a, bit: 0, label: "Bob-omb Squad" },
                        { offset: 0x45a, bit: 1, label: "Red Shell Shooter" },
                        { offset: 0x45a, bit: 2, label: "Green Shell Shooter" },
                        { offset: 0x45a, bit: 3, label: "Pok√©mon KO" },
                        { offset: 0x45a, bit: 4, label: "Mew Catcher" },
                        { offset: 0x45a, bit: 5, label: "Celebi Catcher" },
                        { offset: 0x45a, bit: 6, label: "Goomba KO" },
                        { offset: 0x45a, bit: 7, label: "Koopa KO" },
                        { offset: 0x459, bit: 0, label: "Paratroopa KO" },
                        { offset: 0x459, bit: 1, label: "ReDead KO" },
                        { offset: 0x459, bit: 2, label: "Like Like KO" },
                        { offset: 0x459, bit: 3, label: "Octorok KO" },
                        { offset: 0x459, bit: 4, label: "Topi KO" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x459, bit: 5, label: "Polar Bear KO" },
                        { offset: 0x459, bit: 6, label: "Shy Guy KO" },
                        { offset: 0x459, bit: 7, label: "First Place" },
                        { offset: 0x458, bit: 0, label: "Last Place" },
                        { offset: 0x458, bit: 1, label: "Wire to Wire" },
                        { offset: 0x458, bit: 2, label: "Whipping Boy" },
                        { offset: 0x458, bit: 3, label: "KO Artist" },
                        { offset: 0x458, bit: 4, label: "KO Master" },
                        { offset: 0x458, bit: 5, label: "Offensive Artist" },
                        { offset: 0x458, bit: 6, label: "Offensive Master" },
                        { offset: 0x458, bit: 7, label: "Frequent Faller" },
                        { offset: 0x45f, bit: 0, label: "Fall Guy" },
                        { offset: 0x45f, bit: 1, label: "Self-Destructor" },
                        { offset: 0x45f, bit: 2, label: "Master of Disaster" },
                        { offset: 0x45f, bit: 3, label: "KOs" },
                        { offset: 0x45f, bit: 4, label: "Falls" },
                        { offset: 0x45f, bit: 5, label: "SDs" },
                        { offset: 0x45d, bit: 6, label: "Target Master" },
                        { offset: 0x45d, bit: 7, label: "Hobbyist" },
                        { offset: 0x45c, bit: 0, label: "Collector" },
                      ],
                    },
                    {
                      type: "bitflags",
                      flags: [
                        { offset: 0x45f, bit: 6, label: "No-Damage Clear" },
                        { offset: 0x45f, bit: 7, label: "No-Miss Clear" },
                        { offset: 0x45e, bit: 0, label: "Continuation" },
                        { offset: 0x45e, bit: 1, label: "Speedster" },
                        { offset: 0x45e, bit: 2, label: "Speed Demon" },
                        { offset: 0x45e, bit: 3, label: "Melee Master" },
                        { offset: 0x45e, bit: 4, label: "Classic Clear" },
                        { offset: 0x45e, bit: 5, label: "Adventure Clear" },
                        { offset: 0x45e, bit: 6, label: "All-Star Clear" },
                        { offset: 0x45e, bit: 7, label: "Very-Hard Clear" },
                        { offset: 0x45d, bit: 0, label: "Crazy Hand KO" },
                        { offset: 0x45d, bit: 1, label: "Luigi KO" },
                        { offset: 0x45d, bit: 2, label: "Link Master" },
                        { offset: 0x45d, bit: 3, label: "Giant Kirby KO" },
                        { offset: 0x45d, bit: 4, label: "Metal Bros. KO" },
                        { offset: 0x45d, bit: 5, label: "Giga Bowser KO" },
                      ],
                    },
                  ],
                },
                {
                  name: "Misc. Records",
                  items: [
                    {
                      type: "section",
                      flex: true,
                      items: [
                        {
                          name: "Power Count",
                          offset: 0x208,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "Power Time",
                          type: "group",
                          mode: "time",
                          items: [
                            {
                              offset: 0x20c,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "hours" } },
                              ],
                              max: 999,
                            },
                            {
                              offset: 0x20c,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "minutes" } },
                              ],
                              leadingZeros: 1,
                              max: 59,
                            },
                            {
                              offset: 0x20c,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "seconds" } },
                              ],
                              leadingZeros: 1,
                              max: 59,
                            },
                          ],
                        },
                      ],
                    },
                    {
                      type: "section",
                      flex: true,
                      items: [
                        {
                          name: "Single-Player Time",
                          type: "group",
                          mode: "time",
                          items: [
                            {
                              offset: 0x1f4,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "hours" } },
                              ],
                              max: 999,
                            },
                            {
                              offset: 0x1f4,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "minutes" } },
                              ],
                              leadingZeros: 1,
                              max: 59,
                            },
                            {
                              offset: 0x1f4,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "seconds" } },
                              ],
                              leadingZeros: 1,
                              max: 59,
                            },
                          ],
                        },
                        {
                          name: "VS. Play Time",
                          type: "group",
                          mode: "time",
                          items: [
                            {
                              offset: 0x1ec,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "hours" } },
                              ],
                              max: 999,
                            },
                            {
                              offset: 0x1ec,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "minutes" } },
                              ],
                              leadingZeros: 1,
                              max: 59,
                            },
                            {
                              offset: 0x1ec,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "seconds" } },
                              ],
                              leadingZeros: 1,
                              max: 59,
                            },
                          ],
                        },
                        {
                          name: "Combined VS. Play Time",
                          type: "group",
                          mode: "time",
                          items: [
                            {
                              id: "combinedVsPlayTime",
                              offset: 0x1f0,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "hours" } },
                              ],
                              max: 999,
                            },
                            {
                              id: "combinedVsPlayTime",
                              offset: 0x1f0,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "minutes" } },
                              ],
                              leadingZeros: 1,
                              max: 59,
                            },
                            {
                              id: "combinedVsPlayTime",
                              offset: 0x1f0,
                              type: "variable",
                              dataType: "uint32",
                              bigEndian: true,
                              operations: [
                                { convert: { from: "seconds", to: "seconds" } },
                              ],
                              leadingZeros: 1,
                              max: 59,
                            },
                          ],
                        },
                      ],
                    },
                    {
                      type: "section",
                      flex: true,
                      items: [
                        {
                          id: "vsPlayMatchTotal",
                          name: "VS. Play Match Total",
                          offset: 0x1d0,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                          disabled: true,
                        },
                        {
                          id: "vsMatchTotal-0",
                          name: "Time Match Total",
                          offset: 0x1d0,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          id: "vsMatchTotal-1",
                          name: "Stock Match Total",
                          offset: 0x1d4,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          id: "vsMatchTotal-2",
                          name: "Coin Match Total",
                          offset: 0x1d8,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          id: "vsMatchTotal-3",
                          name: "Bonus Match Total",
                          offset: 0x1dc,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          id: "vsMatchTotal-4",
                          name: "Misc. Match Total",
                          offset: 0x1e0,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                      ],
                    },
                    {
                      type: "section",
                      flex: true,
                      items: [
                        {
                          name: "VS. Play Contestants",
                          offset: 0x1e8,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "Match Reset Counter",
                          offset: 0x1e4,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "Total Damage",
                          offset: 0x210,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "KO Total",
                          offset: 0x214,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "Self-Destruct Total",
                          offset: 0x218,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                      ],
                    },
                    {
                      type: "section",
                      flex: true,
                      items: [
                        {
                          name: "Total Distance Walked",
                          offset: 0x60,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "Total Coins Earned (Trophies)",
                          offset: 0x64,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                          hidden: true,
                        },
                        {
                          id: "totalCoinsEarned",
                          name: "Total Coins Earned",
                          offset: 0x204,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                      ],
                    },
                    {
                      name: "Unlockables Characters Related",
                      type: "section",
                      flex: true,
                      hidden: true,
                      items: [
                        {
                          name: "VS. Play Match Total",
                          offset: 0x28,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "Combined VS. Play Time",
                          offset: 0x2c,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                      ],
                    },
                    {
                      name: "Unlockables Stages Related",
                      type: "section",
                      flex: true,
                      hidden: true,
                      items: [
                        {
                          name: "VS. Play Match Total",
                          offset: 0x48,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                      ],
                    },
                    {
                      name: "Unlockables Trophies Related",
                      type: "section",
                      flex: true,
                      hidden: true,
                      items: [
                        {
                          name: "VS. Play Match Total",
                          offset: 0x50,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "Coin Match Total",
                          offset: 0x54,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                        {
                          name: "VS. KO Count",
                          offset: 0x5c,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                      ],
                    },
                    {
                      name: "Unlockables Options Related",
                      type: "section",
                      flex: true,
                      hidden: true,
                      items: [
                        {
                          name: "VS. KO Count",
                          offset: 0x1c8,
                          type: "variable",
                          dataType: "uint32",
                          bigEndian: true,
                        },
                      ],
                    },
                    {
                      name: "Characters Played Once",
                      type: "bitflags",
                      hidden: true,
                      flags: [
                        { offset: 0x37, bit: 0, label: "C. Falcon" },
                        { offset: 0x37, bit: 1, label: "DK" },
                        { offset: 0x37, bit: 2, label: "Fox" },
                        { offset: 0x37, bit: 3, label: "Mr. Game & Watch" },
                        { offset: 0x37, bit: 4, label: "Kirby" },
                        { offset: 0x37, bit: 5, label: "Bowser" },
                        { offset: 0x37, bit: 6, label: "Link" },
                        { offset: 0x37, bit: 7, label: "Luigi" },
                        { offset: 0x36, bit: 0, label: "Mario" },
                        { offset: 0x36, bit: 1, label: "Marth" },
                        { offset: 0x36, bit: 2, label: "Mewtwo" },
                        { offset: 0x36, bit: 3, label: "Ness" },
                        { offset: 0x36, bit: 4, label: "Peach" },
                        { offset: 0x36, bit: 5, label: "Pikachu" },
                        { offset: 0x36, bit: 6, label: "Ice Climbers" },
                        { offset: 0x36, bit: 7, label: "Jigglypuff" },
                        { offset: 0x35, bit: 0, label: "Samus" },
                        { offset: 0x35, bit: 1, label: "Yoshi" },
                        { offset: 0x35, bit: 2, label: "Zelda" },
                        { offset: 0x35, bit: 3, label: "Falco" },
                        { offset: 0x35, bit: 4, label: "Young Link" },
                        { offset: 0x35, bit: 5, label: "Dr. Mario" },
                        { offset: 0x35, bit: 6, label: "Roy" },
                        { offset: 0x35, bit: 7, label: "Pichu" },
                        { offset: 0x34, bit: 0, label: "Ganondorf" },
                        { offset: 0x34, bit: 1, label: "???" },
                        { offset: 0x34, bit: 2, label: "???" },
                        { offset: 0x34, bit: 3, label: "???" },
                        { offset: 0x34, bit: 4, label: "???" },
                        { offset: 0x34, bit: 5, label: "???" },
                        { offset: 0x34, bit: 6, label: "???" },
                        { offset: 0x34, bit: 7, label: "???" },
                      ],
                    },
                  ],
                },
                {
                  name: "Special",
                  items: [
                    {
                      type: "tabs",
                      vertical: true,
                      items: dataSpecialTypes.map(
                        (type) =>
                          ({
                            name: type.name,
                            items: type.messages.map((message) => ({
                              name: message.name,
                              type: "section",
                              flex: true,
                              items: [
                                {
                                  name: "Progression",
                                  offset:
                                    0x307 +
                                    Math.floor(message.index / 0x20) * 0x8 -
                                    Math.floor(message.index / 8),
                                  type: "variable",
                                  dataType: "bit",
                                  bit: message.index % 8,
                                  resource: "progressions",
                                },
                                {
                                  name: "Date",
                                  type: "group",
                                  mode: "date",
                                  items: [
                                    {
                                      offset: 0x338 + message.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "+": 946684800 },
                                        {
                                          date: { from: "seconds", to: "day" },
                                        },
                                      ],
                                      leadingZeros: 1,
                                      min: 1,
                                      max: 31,
                                    },
                                    {
                                      offset: 0x338 + message.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "+": 946684800 },
                                        {
                                          date: {
                                            from: "seconds",
                                            to: "month",
                                          },
                                        },
                                      ],
                                      leadingZeros: 1,
                                      min: 1,
                                      max: 12,
                                    },
                                    {
                                      offset: 0x338 + message.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        { "+": 946684800 },
                                        {
                                          date: { from: "seconds", to: "year" },
                                        },
                                      ],
                                      min: 2000,
                                      max: 9999,
                                    },
                                    {
                                      offset: 0x338 + message.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        {
                                          date: {
                                            from: "seconds",
                                            to: "hours",
                                          },
                                        },
                                      ],
                                      leadingZeros: 1,
                                      max: 23,
                                    },
                                    {
                                      offset: 0x338 + message.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        {
                                          date: {
                                            from: "seconds",
                                            to: "minutes",
                                          },
                                        },
                                      ],
                                      leadingZeros: 1,
                                      max: 59,
                                    },
                                    {
                                      offset: 0x338 + message.index * 0x4,
                                      type: "variable",
                                      dataType: "uint32",
                                      bigEndian: true,
                                      operations: [
                                        {
                                          date: {
                                            from: "seconds",
                                            to: "seconds",
                                          },
                                        },
                                      ],
                                      leadingZeros: 1,
                                      max: 59,
                                    },
                                  ],
                                },
                              ],
                            })),
                          }) as ItemTab,
                      ),
                    },
                  ],
                },
              ],
            },
          ],
        },
      ],
    },
  ],
  resources: {
    characters,
    difficulties: {
      0x0: "-",
      0x1: "Very Easy",
      0x2: "Easy",
      0x3: "Normal",
      0x4: "Hard",
      0x5: "Very Hard",
    },
    frequencies: {
      0x0: "Very Low",
      0x1: "Low",
      0x2: "Medium",
      0x3: "High",
      0x4: "Very High",
      0xff: "None",
    },
    languages: [
      // Europe
      {
        0x2: "English",
        0x3: "German",
        0x4: "French",
        0x5: "Italian",
        0x6: "Spanish",
      },
      // USA
      {
        0x0: "Japanese",
        0x1: "English",
      },
      // Japan
      {
        0x0: "Japanese",
        0x1: "English",
      },
    ],
    optionBoolean: {
      0x0: "Off",
      0x1: "On",
    },
    progressions: {
      0x0: "-",
      0x1: "Cleared",
    },
  },
  resourcesOrder: {
    characters: [
      0x8, 0x1, 0x6, 0x10, 0x11, 0x4, 0x2, 0xd, 0xb, 0x0, 0x5, 0xc, 0xe, 0x12,
      0x7, 0xf, 0xa, 0x9, 0x3, 0x15, 0x18, 0x13, 0x14, 0x17, 0x16,
    ],
    frequencies: [0xff],
  },
};

export default template;
