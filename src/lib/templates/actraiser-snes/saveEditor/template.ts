import type { GameJson } from "$lib/types";

const template: GameJson = {
  validator: {
    regions: {
      europe_france_germany: {},
      usa: {},
      japan: {},
    },
    text: "Drag 'n' drop here or click to add a save file.",
    error: "Not a valid save file.",
  },
  items: [
    {
      name: "Checksum",
      offset: 0x1fec,
      type: "checksum",
      dataType: "uint32",
      control: {
        offsetStart: 0x0,
        offsetEnd: 0x1fec,
      },
    },
    {
      type: "tabs",
      items: [
        {
          name: "General",
          items: [
            {
              type: "section",
              flex: true,
              items: [
                {
                  id: "name",
                  name: "Name",
                  offset: 0x143b,
                  length: 0x8,
                  type: "variable",
                  dataType: "string",
                  letterDataType: "uint8",
                  encoding: "shiftJis",
                  regex: "[.0-9A-Za-z]",
                  endCode: 0x0,
                  test: true,
                },
                {
                  id: "professionalMode",
                  name: "Professional Mode",
                  offset: 0x1ff0,
                  type: "variable",
                  dataType: "uint24",
                  bigEndian: true,
                  resource: "booleanUnlocked",
                },
                {
                  id: "europeOnly",
                  name: "Difficulty",
                  offset: 0x13b6,
                  type: "variable",
                  dataType: "uint8",
                  resource: "difficulties",
                },
              ],
            },
            {
              type: "section",
              flex: true,
              items: [
                {
                  id: "areaProgression",
                  name: "Fillmore",
                  offset: 0x1200,
                  type: "variable",
                  dataType: "uint8",
                  resource: "areaProgressions",
                },
                {
                  id: "areaProgression",
                  name: "Bloodpool",
                  offset: 0x1202,
                  type: "variable",
                  dataType: "uint8",
                  resource: "areaProgressions",
                },
                {
                  id: "areaProgression",
                  name: "Kasandora",
                  offset: 0x1204,
                  type: "variable",
                  dataType: "uint8",
                  resource: "areaProgressions",
                },
                {
                  id: "areaProgression",
                  name: "Aitos",
                  offset: 0x1206,
                  type: "variable",
                  dataType: "uint8",
                  resource: "areaProgressions",
                },
                {
                  id: "areaProgression",
                  name: "Marahna",
                  offset: 0x1208,
                  type: "variable",
                  dataType: "uint8",
                  resource: "areaProgressions",
                },
                {
                  id: "areaProgression",
                  name: "NorthWall",
                  offset: 0x120a,
                  type: "variable",
                  dataType: "uint8",
                  resource: "areaProgressions",
                },
                {
                  id: "deathHeim",
                  name: "Death Heim",
                  offset: 0x120c,
                  type: "variable",
                  dataType: "uint8",
                  resource: "deathHeimProgressions",
                },
                {
                  name: "Fillmore Acts Cleared",
                  offset: 0x1200,
                  type: "variable",
                  dataType: "uint8",
                  hidden: true,
                },
                {
                  name: "Bloodpool Acts Cleared",
                  offset: 0x1202,
                  type: "variable",
                  dataType: "uint8",
                  hidden: true,
                },
                {
                  name: "Kasandora Acts Cleared",
                  offset: 0x1204,
                  type: "variable",
                  dataType: "uint8",
                  hidden: true,
                },
                {
                  name: "Aitos Acts Cleared",
                  offset: 0x1206,
                  type: "variable",
                  dataType: "uint8",
                  hidden: true,
                },
                {
                  name: "Marahna Acts Cleared",
                  offset: 0x1208,
                  type: "variable",
                  dataType: "uint8",
                  hidden: true,
                },
                {
                  name: "NorthWall Acts Cleared",
                  offset: 0x120a,
                  type: "variable",
                  dataType: "uint8",
                  hidden: true,
                },
                {
                  name: "Death Heim Unlocked",
                  offset: 0x1240,
                  type: "variable",
                  dataType: "bit",
                  bit: 0,
                  hidden: true,
                },
                {
                  name: "Death Heim Cleared",
                  offset: 0x120c,
                  type: "variable",
                  dataType: "uint8",
                  hidden: true,
                },
                {
                  name: "Access to Act-2",
                  type: "bitflags",
                  hidden: true,
                  flags: [
                    { offset: 0x13b8, bit: 0, label: "Fillmore" },
                    { offset: 0x13ba, bit: 0, label: "Bloodpool" },
                    { offset: 0x13bc, bit: 0, label: "Kasandora" },
                    { offset: 0x13be, bit: 0, label: "Aitos" },
                    { offset: 0x13c0, bit: 0, label: "Marahna" },
                    { offset: 0x13c2, bit: 0, label: "Northwall" },
                  ],
                },
              ],
            },
          ],
        },
        {
          name: "Status",
          items: [
            {
              name: "Master",
              type: "section",
              flex: true,
              items: [
                {
                  id: "lives",
                  name: "Lives",
                  offset: 0x145e,
                  type: "variable",
                  dataType: "uint8",
                  operations: [{ "+": 1 }],
                  min: 1,
                  max: 9,
                },
                {
                  id: "level",
                  name: "Level",
                  offset: 0x1444,
                  type: "variable",
                  dataType: "uint8",
                  min: 1,
                  max: 17,
                },
                {
                  name: "Next Level",
                  offset: 0x144a,
                  type: "variable",
                  dataType: "uint16",
                  hidden: true,
                },
                {
                  name: "HP",
                  offset: 0x1246,
                  type: "variable",
                  dataType: "uint8",
                  max: 24,
                },
                {
                  name: "MP",
                  offset: 0x1448,
                  type: "variable",
                  dataType: "uint16",
                  max: 10,
                },
                {
                  id: "equippedMagic",
                  name: "Equipped Magic",
                  offset: 0x145f,
                  type: "variable",
                  dataType: "uint8",
                  resource: "equippedMagics",
                },
              ],
            },
            {
              name: "Angel",
              type: "section",
              flex: true,
              items: [
                {
                  name: "HP",
                  type: "group",
                  mode: "fraction",
                  items: [
                    {
                      offset: 0x1439,
                      type: "variable",
                      dataType: "uint8",
                      max: 24,
                    },
                    {
                      offset: 0x143a,
                      type: "variable",
                      dataType: "uint8",
                      max: 24,
                    },
                  ],
                },
                {
                  name: "SP",
                  type: "group",
                  mode: "fraction",
                  items: [
                    {
                      offset: 0x1435,
                      type: "variable",
                      dataType: "uint16",
                      max: 999,
                    },
                    {
                      offset: 0x1437,
                      type: "variable",
                      dataType: "uint16",
                      max: 999,
                    },
                  ],
                },
              ],
            },
            {
              name: "Magic",
              type: "section",
              flex: true,
              items: [
                {
                  name: "Magic 1",
                  offset: 0x144c,
                  type: "variable",
                  dataType: "uint8",
                  binary: { bitStart: 0, bitLength: 7 },
                  resource: "magics",
                },
                {
                  name: "Magic 2",
                  offset: 0x144d,
                  type: "variable",
                  dataType: "uint8",
                  binary: { bitStart: 0, bitLength: 7 },
                  resource: "magics",
                },
                {
                  name: "Magic 3",
                  offset: 0x144e,
                  type: "variable",
                  dataType: "uint8",
                  binary: { bitStart: 0, bitLength: 7 },
                  resource: "magics",
                },
                {
                  name: "Magic 4",
                  offset: 0x144f,
                  type: "variable",
                  dataType: "uint8",
                  binary: { bitStart: 0, bitLength: 7 },
                  resource: "magics",
                },
              ],
            },
            {
              name: "Items",
              type: "section",
              flex: true,
              items: [
                {
                  name: "Item 1",
                  offset: 0x1455,
                  type: "variable",
                  dataType: "uint8",
                  resource: "items",
                  autocomplete: true,
                },
                {
                  name: "Item 2",
                  offset: 0x1456,
                  type: "variable",
                  dataType: "uint8",
                  resource: "items",
                  autocomplete: true,
                },
                {
                  name: "Item 3",
                  offset: 0x1457,
                  type: "variable",
                  dataType: "uint8",
                  resource: "items",
                  autocomplete: true,
                },
                {
                  name: "Item 4",
                  offset: 0x1458,
                  type: "variable",
                  dataType: "uint8",
                  resource: "items",
                  autocomplete: true,
                },
                {
                  name: "Item 5",
                  offset: 0x1459,
                  type: "variable",
                  dataType: "uint8",
                  resource: "items",
                  autocomplete: true,
                },
                {
                  name: "Item 6",
                  offset: 0x145a,
                  type: "variable",
                  dataType: "uint8",
                  resource: "items",
                  autocomplete: true,
                },
                {
                  name: "Item 7",
                  offset: 0x145b,
                  type: "variable",
                  dataType: "uint8",
                  resource: "items",
                  autocomplete: true,
                },
                {
                  name: "Item 8",
                  offset: 0x145c,
                  type: "variable",
                  dataType: "uint8",
                  resource: "items",
                  autocomplete: true,
                },
              ],
            },
          ],
        },
        {
          name: "Scores",
          items: [
            {
              length: 0x4,
              type: "container",
              instanceType: "section",
              instances: 6,
              resource: "cities",
              flex: true,
              items: [
                {
                  name: "Act-1",
                  offset: 0x1466,
                  type: "variable",
                  dataType: "uint16",
                  binaryCodedDecimal: true,
                  operations: [{ "*": 10 }],
                  max: 99990,
                  step: 10,
                },
                {
                  name: "Act-2",
                  offset: 0x1468,
                  type: "variable",
                  dataType: "uint16",
                  binaryCodedDecimal: true,
                  operations: [{ "*": 10 }],
                  max: 99990,
                  step: 10,
                },
              ],
            },
          ],
        },
        {
          name: "Cities",
          items: [
            {
              type: "section",
              flex: true,
              items: [
                {
                  name: "Total",
                  offset: 0x13cb,
                  type: "variable",
                  dataType: "uint16",
                  disabled: true,
                },
                {
                  name: "Current City",
                  offset: 0x13cd,
                  type: "variable",
                  dataType: "uint16",
                  hidden: true,
                },
              ],
            },
            {
              length: 0x2,
              type: "container",
              instanceType: "section",
              instances: 6,
              resource: "cities",
              flex: true,
              items: [
                {
                  name: "Population",
                  offset: 0x13cf,
                  type: "variable",
                  dataType: "uint16",
                  disabled: true,
                },
                {
                  name: "Speed",
                  offset: 0x13db,
                  type: "variable",
                  dataType: "uint8",
                  resource: "citySpeeds",
                  overrideShift: {
                    parent: 1,
                    shift: 0x1,
                  },
                  disabled: true,
                },
                {
                  name: "Level",
                  offset: 0x13e1,
                  type: "variable",
                  dataType: "uint16",
                  disabled: true,
                },
                {
                  name: "Offerings",
                  offset: 0x13ed,
                  type: "variable",
                  dataType: "uint16",
                  disabled: true,
                },
              ],
            },
          ],
        },
        {
          name: "Options",
          items: [
            {
              id: "messageSpeed",
              name: "Message Speed",
              offset: 0x13b1,
              type: "variable",
              dataType: "uint8",
              max: 9,
            },
          ],
        },
      ],
    },
  ],
  resources: {
    areaProgressions: {
      0x0: "Act-1",
      0x2: "Act-1 Cleared",
      0x3: "Act-2",
      0x4: "Act-2 Cleared",
    },
    booleanUnlocked: {
      0x0: "-",
      0x1: "Unlocked",
    },
    cities: {
      0x0: "Fillmore",
      0x1: "Bloodpool",
      0x2: "Kasandora",
      0x3: "Aitos",
      0x4: "Marahna",
      0x5: "Northwall",
    },
    citySpeeds: {
      0x0: "-",
      0x1: "Stop",
      0x2: "Slow",
      0x3: "Normal",
      0x5: "Max",
    },
    deathHeimProgressions: {
      0x0: "-",
      0x1: "Unlocked",
      0x4: "Cleared",
    },
    difficulties: {
      0x0: "-",
      0x1: "Beginner",
      0x2: "Normal",
      0x3: "Expert",
    },
    equippedMagics: {
      0x0: "-",
      0x1: "Magic 1",
      0x2: "Magic 2",
      0x3: "Magic 3",
      0x4: "Magic 4",
    },
    items: {
      0x0: "-",
      0x5: "Source of Life",
      0x6: "Source of Magic",
      0x7: "Loaf of Bread",
      0x8: "Wheat",
      0x9: "Herb",
      0xa: "Bridge",
      0xb: "Hamonious Music",
      // 0xc: "Ancient Tablet", // Unused
      0xd: "Ancient Tablet",
      0xe: "Magic Skull",
      0xf: "Sheep's Fleece",
      // 0x10: "Bomb!", // Unused
      // 0x11: "Bomb!", // Unused
      0x12: "Bomb!",
      0x13: "Compass",
      0x14: "Strength of Angel",
    },
    magics: {
      0x0: "-",
      0x1: "Magical Fire",
      0x2: "Magical Stardust",
      0x3: "Magical Aura",
      0x4: "Magical Light",
    },
  },
};

export default template;
