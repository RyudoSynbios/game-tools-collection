import type { GameJson } from "$lib/types";

import { attributesFragment } from "./utils/fragment";

const template: GameJson = {
  validator: {
    regions: {
      europe: {
        0x8028: [0x53, 0x4c, 0x45, 0x53, 0x5f, 0x30, 0x30, 0x35, 0x32, 0x34], // "SLES_00524"
      },
      usa: {
        0x8028: [0x53, 0x4c, 0x55, 0x53, 0x5f, 0x30, 0x30, 0x30, 0x36, 0x37], // "SLUS_00067"
      },
      japan_japanrev1: {
        0x8028: [0x44, 0x52, 0x41, 0x43, 0x55, 0x4c, 0x41, 0x5f, 0x58], // "DRACULA_X"
      },
      japanrev2: {
        0x832d: [0x31, 0x39, 0x39, 0x38, 0x30, 0x31, 0x32, 0x33], // "19980123"
      },
      asia: {
        0x8028: [0x53, 0x43, 0x50, 0x53, 0x5f, 0x34, 0x35, 0x31, 0x39, 0x36], // "SCPS_45196"
      },
    },
    text: "Drag 'n' drop here or click to add a rom file.",
    hint: "Only works with .iso files.",
    error: "Not a valid rom file.",
  },
  items: [
    {
      type: "tabs",
      items: [
        {
          name: "Weapons",
          items: [
            {
              pointer: 0xc0,
              pointerDataViewAltKey: "dra",
              pointerDataType: "uint16",
              length: 0x34,
              type: "container",
              instanceType: "tabs",
              instances: 217,
              resource: "weaponNames",
              vertical: true,
              items: [
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      id: "pointerText-%index%-weaName",
                      name: "Name",
                      dataViewAltKey: "dra",
                      offset: 0x0,
                      length: 0x64,
                      type: "variable",
                      dataType: "string",
                      letterDataType: "uint8",
                      resource: "letters1",
                      disabled: true,
                    },
                    {
                      id: "pointerText",
                      name: "Description",
                      dataViewAltKey: "dra",
                      offset: 0x4,
                      length: 0x64,
                      type: "variable",
                      dataType: "string",
                      letterDataType: "uint8",
                      resource: "letters2",
                      endCode: 0x0,
                      size: "lg",
                      disabled: true,
                    },
                    {
                      name: "Type",
                      dataViewAltKey: "dra",
                      offset: 0xe,
                      type: "variable",
                      dataType: "uint8",
                      resource: "weaponTypes",
                    },
                  ],
                },
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      name: "Attack",
                      dataViewAltKey: "dra",
                      offset: 0x8,
                      type: "variable",
                      dataType: "int16",
                      min: -999,
                      max: 999,
                    },
                    {
                      name: "Defense",
                      dataViewAltKey: "dra",
                      offset: 0xa,
                      type: "variable",
                      dataType: "int16",
                      min: -999,
                      max: 999,
                    },
                    {
                      name: "Critical Rate",
                      dataViewAltKey: "dra",
                      offset: 0x30,
                      type: "variable",
                      dataType: "uint16",
                      operations: [{ "/": 2.56 }],
                      max: 100,
                      step: 0.01,
                      suffix: "%",
                    },
                  ],
                },
                attributesFragment("Attack Attributes", 0xc),
              ],
            },
          ],
        },
        {
          name: "Equipment",
          items: [
            {
              pointer: 0xc4,
              pointerDataViewAltKey: "dra",
              pointerDataType: "uint24",
              length: 0x20,
              type: "container",
              instanceType: "tabs",
              instances: 90,
              resource: "equipmentNames",
              vertical: true,
              items: [
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      id: "pointerText-%index%-equName",
                      name: "Name",
                      dataViewAltKey: "dra",
                      offset: 0x0,
                      length: 0x64,
                      type: "variable",
                      dataType: "string",
                      letterDataType: "uint8",
                      resource: "letters1",
                      disabled: true,
                    },
                    {
                      id: "pointerText",
                      name: "Description",
                      dataViewAltKey: "dra",
                      offset: 0x4,
                      length: 0x64,
                      type: "variable",
                      dataType: "string",
                      letterDataType: "uint8",
                      resource: "letters2",
                      size: "lg",
                      disabled: true,
                    },
                    {
                      name: "Type",
                      dataViewAltKey: "dra",
                      offset: 0x1c,
                      type: "variable",
                      dataType: "uint8",
                      resource: "equipmentTypes",
                    },
                  ],
                },
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      name: "Attack",
                      dataViewAltKey: "dra",
                      offset: 0x8,
                      type: "variable",
                      dataType: "int16",
                      min: -999,
                      max: 999,
                    },
                    {
                      name: "Defense",
                      dataViewAltKey: "dra",
                      offset: 0xa,
                      type: "variable",
                      dataType: "int16",
                      min: -999,
                      max: 999,
                    },
                  ],
                },
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      name: "Strength",
                      dataViewAltKey: "dra",
                      offset: 0xc,
                      type: "variable",
                      dataType: "int8",
                      min: -99,
                      max: 99,
                    },
                    {
                      name: "Constitution",
                      dataViewAltKey: "dra",
                      offset: 0xd,
                      type: "variable",
                      dataType: "int8",
                      min: -99,
                      max: 99,
                    },
                    {
                      name: "Intelligence",
                      dataViewAltKey: "dra",
                      offset: 0xe,
                      type: "variable",
                      dataType: "int8",
                      min: -99,
                      max: 99,
                    },
                    {
                      name: "Luck",
                      dataViewAltKey: "dra",
                      offset: 0xf,
                      type: "variable",
                      dataType: "int8",
                      min: -99,
                      max: 99,
                    },
                  ],
                },
                {
                  type: "section",
                  flex: true,
                  items: [
                    attributesFragment("Weaknesses", 0x10),
                    attributesFragment("Resistances", 0x12),
                    attributesFragment("Immunities", 0x14),
                    attributesFragment("Absorptions", 0x16),
                  ],
                },
              ],
            },
          ],
        },
        {
          name: "Enemies",
          items: [
            {
              pointer: 0x98,
              pointerDataViewAltKey: "dra",
              pointerDataType: "uint24",
              length: 0x28,
              type: "container",
              instanceType: "tabs",
              instances: 400,
              resource: "enemyNames",
              vertical: true,
              items: [
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      id: "pointerText-%index%-eneName",
                      name: "Name",
                      dataViewAltKey: "dra",
                      offset: 0x0,
                      length: 0x64,
                      type: "variable",
                      dataType: "string",
                      letterDataType: "uint8",
                      resource: "letters1",
                      disabled: true,
                    },
                    {
                      name: "Level",
                      dataViewAltKey: "dra",
                      offset: 0x16,
                      type: "variable",
                      dataType: "uint16",
                      max: 99,
                    },
                  ],
                },
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      name: "HP",
                      dataViewAltKey: "dra",
                      offset: 0x4,
                      type: "variable",
                      dataType: "int16",
                      min: 0,
                    },
                    {
                      name: "Attack",
                      dataViewAltKey: "dra",
                      offset: 0x6,
                      type: "variable",
                      dataType: "int16",
                      min: 0,
                    },
                    {
                      name: "Defense",
                      dataViewAltKey: "dra",
                      offset: 0xa,
                      type: "variable",
                      dataType: "int16",
                      min: 0,
                    },
                    {
                      name: "Experience",
                      dataViewAltKey: "dra",
                      offset: 0x18,
                      type: "variable",
                      dataType: "uint16",
                    },
                  ],
                },
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      name: "Drop Item 1",
                      dataViewAltKey: "dra",
                      offset: 0x1a,
                      type: "variable",
                      dataType: "uint16",
                      resource: "dropItemNames",
                      autocomplete: true,
                    },
                    {
                      name: "Drop Rate 1",
                      dataViewAltKey: "dra",
                      offset: 0x1e,
                      type: "variable",
                      dataType: "uint16",
                      operations: [{ "/": 2.56 }],
                      max: 100,
                      step: 0.01,
                      suffix: "%",
                    },
                    {
                      name: "Drop Item 2",
                      dataViewAltKey: "dra",
                      offset: 0x1c,
                      type: "variable",
                      dataType: "uint16",
                      resource: "dropItemNames",
                      autocomplete: true,
                    },
                    {
                      name: "Drop Rate 2",
                      dataViewAltKey: "dra",
                      offset: 0x20,
                      type: "variable",
                      dataType: "uint16",
                      operations: [{ "/": 2.56 }],
                      max: 100,
                      step: 0.01,
                      suffix: "%",
                    },
                  ],
                },
                {
                  type: "section",
                  flex: true,
                  items: [
                    attributesFragment("Weaknesses", 0xe),
                    attributesFragment("Resistances", 0x10),
                    attributesFragment("Immunities", 0x12),
                    attributesFragment("Absorptions", 0x14),
                    attributesFragment("Attack Attributes", 0x8),
                  ],
                },
              ],
            },
          ],
        },
        {
          name: "Master Librarian",
          items: [
            {
              type: "tabs",
              items: [
                {
                  name: "Buy Item",
                  items: [
                    {
                      id: "shop",
                      length: 0x8,
                      type: "container",
                      instanceType: "section",
                      instances: 48,
                      flex: true,
                      noMargin: true,
                      items: [
                        {
                          name: "Type",
                          dataViewAltKey: "lib",
                          offset: 0x0,
                          type: "variable",
                          dataType: "uint8",
                          hidden: true,
                        },
                        {
                          id: "libItem",
                          name: "Item %d",
                          dataViewAltKey: "lib",
                          offset: 0x2,
                          type: "variable",
                          dataType: "uint16",
                          resource: "libItemNames",
                          autocomplete: true,
                        },
                        {
                          name: "Price",
                          dataViewAltKey: "lib",
                          offset: 0x4,
                          type: "variable",
                          dataType: "uint32",
                          max: 99999999,
                        },
                        {
                          name: "Flags",
                          dataViewAltKey: "lib",
                          offset: 0x1,
                          type: "variable",
                          dataType: "uint8",
                          hex: true,
                          hidden: true,
                        },
                      ],
                    },
                  ],
                },
                {
                  name: "Sell Gem",
                  items: [
                    {
                      id: "shop",
                      length: 0x8,
                      type: "container",
                      instanceType: "section",
                      instances: 7,
                      flex: true,
                      noMargin: true,
                      items: [
                        {
                          name: "Type",
                          dataViewAltKey: "lib",
                          offset: 0x18c,
                          type: "variable",
                          dataType: "uint8",
                          hidden: true,
                        },
                        {
                          id: "libItem",
                          name: "Item %d",
                          dataViewAltKey: "lib",
                          offset: 0x18e,
                          type: "variable",
                          dataType: "uint16",
                          resource: "libItemNames",
                          autocomplete: true,
                        },
                        {
                          name: "Price",
                          dataViewAltKey: "lib",
                          offset: 0x190,
                          type: "variable",
                          dataType: "uint32",
                          max: 99999999,
                        },
                        {
                          name: "Flags",
                          dataViewAltKey: "lib",
                          offset: 0x18d,
                          type: "variable",
                          dataType: "uint8",
                          hex: true,
                          hidden: true,
                        },
                      ],
                    },
                  ],
                },
                {
                  name: "Tactics",
                  items: [
                    {
                      id: "tactics",
                      length: 0x8,
                      type: "container",
                      instanceType: "section",
                      instances: 23,
                      flex: true,
                      noMargin: true,
                      items: [
                        {
                          name: "???",
                          dataViewAltKey: "lib",
                          offset: 0x0,
                          type: "variable",
                          dataType: "uint16",
                          hex: true,
                          hidden: true,
                        },
                        {
                          name: "Tactic %d",
                          dataViewAltKey: "lib",
                          offset: 0x2,
                          type: "variable",
                          dataType: "uint16",
                          resource: "tacticNames",
                          autocomplete: true,
                        },
                        {
                          name: "Price",
                          dataViewAltKey: "lib",
                          offset: 0x4,
                          type: "variable",
                          dataType: "uint32",
                          max: 99999999,
                        },
                      ],
                    },
                  ],
                },
                {
                  name: "Enemy List",
                  items: [
                    {
                      length: 0x2,
                      type: "container",
                      instanceType: "section",
                      instances: 146,
                      flex: true,
                      noMargin: true,
                      items: [
                        {
                          name: "Enemy %d",
                          dataViewAltKey: "lib",
                          offset: 0xe90,
                          type: "variable",
                          dataType: "uint16",
                          resource: "enemyNames",
                          autocomplete: true,
                        },
                        {
                          id: "pointerText",
                          name: "Description",
                          dataViewAltKey: "lib",
                          offset: 0xfb4,
                          length: 0x64,
                          type: "variable",
                          dataType: "string",
                          letterDataType: "uint8",
                          resource: "letters2",
                          size: "xl",
                          disabled: true,
                          overrideShift: {
                            parent: 1,
                            shift: 0x4,
                          },
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
      ],
    },
  ],
  resources: {
    enemyNames: "getEnemyNames()",
    equipmentNames: "getEquipmentNames()",
    equipmentTypes: {
      0x0: "Head",
      0x1: "Body",
      0x2: "Cloak",
      0x3: "Other",
    },
    dropItemNames: "getDropItemNames()",
    letters1: {
      0x0: " ",
      0x6: "&",
      0x7: "'",
      0xa: "男",
      0xd: "-",
      0xe: ".",
      0x10: "0",
      0x11: "1",
      0x12: "2",
      0x13: "3",
      0x14: "4",
      0x15: "5",
      0x16: "6",
      0x17: "7",
      0x18: "8",
      0x19: "9",
      0x1e: "玉",
      0x20: "石",
      0x21: "A",
      0x22: "B",
      0x23: "C",
      0x24: "D",
      0x25: "E",
      0x26: "F",
      0x27: "G",
      0x28: "H",
      0x29: "I",
      0x2a: "J",
      0x2b: "K",
      0x2c: "L",
      0x2d: "M",
      0x2e: "N",
      0x2f: "O",
      0x30: "P",
      0x31: "Q",
      0x32: "R",
      0x33: "S",
      0x34: "T",
      0x35: "U",
      0x36: "V",
      0x37: "W",
      0x38: "X",
      0x39: "Y",
      0x3a: "Z",
      0x3c: "剣",
      0x3e: "盾",
      0x41: "a",
      0x42: "b",
      0x43: "c",
      0x44: "d",
      0x45: "e",
      0x46: "f",
      0x47: "g",
      0x48: "h",
      0x49: "i",
      0x4a: "j",
      0x4b: "k",
      0x4c: "l",
      0x4d: "m",
      0x4e: "n",
      0x4f: "o",
      0x50: "p",
      0x51: "q",
      0x52: "r",
      0x53: "s",
      0x54: "t",
      0x55: "u",
      0x56: "v",
      0x57: "w",
      0x58: "x",
      0x59: "y",
      0x5a: "z",
      0x5b: "炎",
      0x5c: "氷",
      0x5d: "雷",
      0x65: "・",
      0x66: "ヲ",
      0x67: "ァ",
      0x68: "ィ",
      0x69: "ゥ",
      0x6a: "ェ",
      0x6b: "ォ",
      0x6c: "ャ",
      0x6d: "ュ",
      0x6e: "ョ",
      0x6f: "ッ",
      0x70: "ー",
      0x71: "ア",
      0x72: "イ",
      0x73: "ウ",
      0x73ff9e: "ヴ",
      0x74: "エ",
      0x75: "オ",
      0x76: "カ",
      0x76ff9e: "ガ",
      0x77: "キ",
      0x77ff9e: "ギ",
      0x78: "ク",
      0x78ff9e: "グ",
      0x79: "ケ",
      0x79ff9e: "ゲ",
      0x7a: "コ",
      0x7aff9e: "ゴ",
      0x7b: "サ",
      0x7bff9e: "ザ",
      0x7c: "シ",
      0x7cff9e: "ジ",
      0x7d: "ス",
      0x7dff9e: "ズ",
      0x7e: "セ",
      0x7eff9e: "ゼ",
      0x7f: "ソ",
      0x7fff9e: "ゾ",
      0x80: "タ",
      0x80ff9e: "ダ",
      0x81: "チ",
      0x81ff9e: "ヂ",
      0x82: "ツ",
      0x82ff9e: "ヅ",
      0x83: "テ",
      0x83ff9e: "デ",
      0x84: "ト",
      0x84ff9e: "ド",
      0x85: "ナ",
      0x86: "ニ",
      0x87: "ヌ",
      0x88: "ネ",
      0x89: "ノ",
      0x8a: "ハ",
      0x8aff9e: "バ",
      0x8aff9f: "パ",
      0x8b: "ヒ",
      0x8bff9e: "ビ",
      0x8bff9f: "ピ",
      0x8c: "フ",
      0x8cff9e: "ブ",
      0x8cff9f: "プ",
      0x8d: "ヘ",
      0x8dff9e: "ベ",
      0x8dff9f: "ペ",
      0x8e: "ホ",
      0x8eff9e: "ボ",
      0x8eff9f: "ポ",
      0x8f: "マ",
      0x90: "ミ",
      0x91: "ム",
      0x92: "メ",
      0x93: "モ",
      0x94: "ヤ",
      0x95: "ユ",
      0x96: "ヨ",
      0x97: "ラ",
      0x98: "リ",
      0x99: "ル",
      0x9a: "レ",
      0x9b: "ロ",
      0x9c: "ワ",
      0x9d: "ン",
      0xa2: "魔",
      0xa3: "人",
      0xa6: "を",
      0xa7: "ぁ",
      0xa8: "ぃ",
      0xa9: "ぅ",
      0xaa: "ぇ",
      0xab: "ぉ",
      0xac: "ゃ",
      0xad: "ゅ",
      0xae: "ょ",
      0xaf: "っ",
      0xb1: "あ",
      0xb2: "い",
      0xb3: "う",
      0xb4: "え",
      0xb5: "お",
      0xb6: "か",
      0xb6ff9e: "が",
      0xb7: "き",
      0xb7ff9e: "ぎ",
      0xb8: "く",
      0xb8ff9e: "ぐ",
      0xb9: "け",
      0xb9ff9e: "げ",
      0xba: "こ",
      0xbaff9e: "ご",
      0xbb: "さ",
      0xbbff9e: "ざ",
      0xbc: "し",
      0xbcff9e: "じ",
      0xbd: "す",
      0xbdff9e: "ず",
      0xbe: "せ",
      0xbeff9e: "ぜ",
      0xbf: "そ",
      0xbfff9e: "ぞ",
      0xc0: "た",
      0xc0ff9e: "だ",
      0xc1: "ち",
      0xc1ff9e: "ぢ",
      0xc2: "つ",
      0xc2ff9e: "づ",
      0xc3: "て",
      0xc3ff9e: "で",
      0xc4: "と",
      0xc4ff9e: "ど",
      0xc5: "な",
      0xc6: "に",
      0xc7: "ぬ",
      0xc8: "ね",
      0xc9: "の",
      0xca: "は",
      0xcaff9e: "ば",
      0xcaff9f: "ぱ",
      0xcb: "ひ",
      0xcbff9e: "び",
      0xcbff9f: "ぴ",
      0xcc: "ふ",
      0xccff9e: "ぶ",
      0xccff9f: "ぷ",
      0xcd: "へ",
      0xcdff9e: "べ",
      0xcdff9f: "ぺ",
      0xce: "ほ",
      0xceff9e: "ぼ",
      0xceff9f: "ぽ",
      0xcf: "ま",
      0xd0: "み",
      0xd1: "む",
      0xd2: "め",
      0xd3: "も",
      0xd4: "や",
      0xd5: "ゆ",
      0xd6: "よ",
      0xd7: "ら",
      0xd8: "り",
      0xd9: "る",
      0xda: "れ",
      0xdb: "ろ",
      0xdc: "わ",
      0xdd: "ん",
      0xde: "指",
      0xdf: "輪",
      0xec: "名",
      0xed: "刀",
      0xee: "聖",
      0xef: "血",
      0xfd: "光",
      0xfe: "邪",
      0xffff: "月",
    },
    letters2: {
      0x20: " ",
      0x40: "\\n",
      0x41: "A",
      0x42: "B",
      0x43: "C",
      0x44: "D",
      0x45: "E",
      0x46: "F",
      0x47: "G",
      0x48: "H",
      0x49: "I",
      0x4a: "J",
      0x4b: "K",
      0x4c: "L",
      0x4d: "M",
      0x4e: "N",
      0x4f: "O",
      0x50: "P",
      0x51: "Q",
      0x52: "R",
      0x53: "S",
      0x54: "T",
      0x55: "U",
      0x56: "V",
      0x57: "W",
      0x58: "X",
      0x59: "Y",
      0x5a: "Z",
      0x61: "a",
      0x62: "b",
      0x63: "c",
      0x64: "d",
      0x65: "e",
      0x66: "f",
      0x67: "g",
      0x68: "h",
      0x69: "i",
      0x6a: "j",
      0x6b: "k",
      0x6c: "l",
      0x6d: "m",
      0x6e: "n",
      0x6f: "o",
      0x70: "p",
      0x71: "q",
      0x72: "r",
      0x73: "s",
      0x74: "t",
      0x75: "u",
      0x76: "v",
      0x77: "w",
      0x78: "x",
      0x79: "y",
      0x7a: "z",
      0x8143: ",",
      0x8144: ".",
      0x8148: "?",
      0x8149: "!",
      0x8166: "'",
      0x8168: "’",
      0x8169: "(",
      0x816a: ")",
      0x816d: "[",
      0x816e: "]",
      0x817b: "+",
      0x817c: "-",
      0x8193: "%",
      0x824f: "0",
      0x8250: "1",
      0x8251: "2",
      0x8252: "3",
      0x8253: "4",
      0x8254: "5",
      0x8255: "6",
      0x8256: "7",
      0x8257: "8",
      0x8258: "9",
    },
    libItemNames: "getLibItemNames()",
    tacticNames: "getTacticNames()",
    weaponNames: "getWeaponNames()",
    weaponTypes: {
      0x0: "Short Swords",
      0x1: "Swords",
      0x2: "Throws 1",
      0x3: "Fists",
      0x4: "Clubs",
      0x5: "Two-hands",
      0x6: "Foods",
      0x7: "Bombs",
      0x8: "Throws 2",
      0x9: "Shields",
      0xa: "Medicines",
    },
  },
};

export default template;
