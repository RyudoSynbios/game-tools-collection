import type { GameJson } from "$lib/types";

const template: GameJson = {
  validator: {
    regions: {
      europe: {
        0x0: [0x4e, 0x45, 0x54, 0x50], // "NETP"
      },
      usa: {
        0x0: [0x4e, 0x45, 0x54, 0x45], // "NETE"
      },
      japan: {
        0x0: [0x4e, 0x45, 0x54, 0x4a], // "NETJ"
      },
      france: {
        0x0: [0x4e, 0x45, 0x54, 0x46], // "NETF"
      },
      germany: {
        0x0: [0x4e, 0x45, 0x54, 0x44], // "NETD"
      },
    },
    text: "Drag 'n' drop here or click to add a save file.",
    hint: "If you're having trouble loading a save file from an Everdrive cartridge, please see the FAQ.",
    error: "Not a valid save file.",
  },
  items: [
    {
      id: "slots",
      length: 0x200,
      type: "container",
      instanceType: "tabs",
      instances: 16,
      enumeration: "Slot %d",
      items: [
        {
          type: "tabs",
          items: [
            {
              name: "General",
              flex: true,
              items: [
                {
                  name: "Playtime",
                  type: "group",
                  mode: "time",
                  items: [
                    {
                      offset: 0x38,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                      operations: [
                        {
                          convert: {
                            from: "minutes",
                            to: "hours",
                          },
                        },
                      ],
                      max: 99,
                      test: true,
                    },
                    {
                      offset: 0x38,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                      operations: [
                        {
                          convert: {
                            from: "minutes",
                            to: "minutes",
                          },
                        },
                      ],
                      leadingZeros: 1,
                      max: 59,
                      test: true,
                    },
                  ],
                },
                {
                  name: "Days",
                  offset: 0x3a,
                  type: "variable",
                  dataType: "uint16",
                  bigEndian: true,
                  min: 1,
                  max: 999,
                },
                {
                  id: "location",
                  name: "Location",
                  offset: 0x3c,
                  type: "variable",
                  dataType: "uint32",
                  bigEndian: true,
                  resource: "locations",
                  autocomplete: true,
                },
                {
                  name: "Location",
                  offset: 0x40,
                  type: "variable",
                  dataType: "uint32",
                  bigEndian: true,
                  hidden: true,
                },
              ],
            },
            {
              name: "Status",
              items: [
                {
                  type: "section",
                  flex: true,
                  items: [
                    {
                      name: "HP",
                      type: "group",
                      mode: "fraction",
                      items: [
                        {
                          offset: 0x4,
                          type: "variable",
                          dataType: "uint16",
                          bigEndian: true,
                          min: 1,
                          max: 500,
                        },
                        {
                          offset: 0x6,
                          type: "variable",
                          dataType: "uint16",
                          bigEndian: true,
                          min: 1,
                          max: 500,
                        },
                      ],
                    },
                    {
                      name: "MP",
                      type: "group",
                      mode: "fraction",
                      items: [
                        {
                          offset: 0x8,
                          type: "variable",
                          dataType: "uint16",
                          bigEndian: true,
                          max: 500,
                        },
                        {
                          offset: 0xa,
                          type: "variable",
                          dataType: "uint16",
                          bigEndian: true,
                          max: 500,
                        },
                      ],
                    },
                    {
                      name: "Defense",
                      offset: 0xe,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                      max: 255,
                    },
                    {
                      name: "Agility",
                      offset: 0xc,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                      max: 255,
                    },
                  ],
                },
                {
                  name: "Elements",
                  type: "section",
                  flex: true,
                  items: [
                    {
                      name: "Fire",
                      offset: 0x24,
                      type: "variable",
                      dataType: "uint8",
                      max: 50,
                    },
                    {
                      name: "Earth",
                      offset: 0x25,
                      type: "variable",
                      dataType: "uint8",
                      max: 50,
                    },
                    {
                      name: "Water",
                      offset: 0x26,
                      type: "variable",
                      dataType: "uint8",
                      max: 50,
                    },
                    {
                      name: "Wind",
                      offset: 0x27,
                      type: "variable",
                      dataType: "uint8",
                      max: 50,
                    },
                  ],
                },
                {
                  name: "Experience",
                  type: "section",
                  flex: true,
                  items: [
                    {
                      name: "HP",
                      offset: 0x28,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                    },
                    {
                      name: "MP",
                      offset: 0x2a,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                    },
                    {
                      name: "Defense",
                      offset: 0x2e,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                    },
                    {
                      name: "Agility",
                      offset: 0x2c,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                    },
                    {
                      name: "Elements",
                      offset: 0x10,
                      type: "variable",
                      dataType: "uint16",
                      bigEndian: true,
                    },
                  ],
                },
              ],
            },
            {
              name: "Inventory",
              flex: true,
              items: [...Array(150).keys()].map((index) => ({
                name: `Item ${index + 1}`,
                offset: 0xb0 + index,
                type: "variable",
                dataType: "uint8",
                resource: "items",
                autocomplete: true,
              })),
            },
            {
              name: "Events",
              items: [
                {
                  type: "tabs",
                  vertical: true,
                  items: [
                    {
                      name: "Chests",
                      hidden: true,
                      items: [
                        {
                          type: "bitflags",
                          flags: [
                            { offset: 0x80, bit: 5, label: "<b>Dondoran Castle:</b> Chest with Fresh Bread" },
                            { offset: 0x80, bit: 6, label: "<b>Dondoran Castle:</b> Chest with Fresh Bread" },
                          ],
                        },
                      ],
                    },
                    {
                      name: "Story",
                      items: [
                        {
                          name: "Defeated Bosses",
                          type: "bitflags",
                          flags: [
                            { offset: 0x147, bit: 0, label: "Solvaring" },
                            { offset: 0x147, bit: 1, label: "Zelse" },
                            { offset: 0x147, bit: 2, label: "Nepty" },
                            { offset: 0x147, bit: 3, label: "Shilf" },
                            { offset: 0x147, bit: 4, label: "Fargo" },
                            { offset: 0x147, bit: 5, label: "Guilty" },
                            { offset: 0x147, bit: 6, label: "Beigis" },
                            { offset: 0x147, bit: 7, label: "Mammon", disabled: true },
                          ],
                        },
                      ],
                    },
                    {
                      name: "Sprits",
                      items: [
                        {
                          type: "bitflags",
                          flags: [
                            { offset: 0xa0, bit: 1, label: "<b>Melrode Monastery:</b> In the stable", separator: true },
                            { offset: 0xa0, bit: 0, label: "<b>Melrode:</b> Near the shepherd", separator: true },
                            { offset: 0xa0, bit: 4, label: "<b>Holy Plain:</b> In the east part of the area" },
                            { offset: 0xaa, bit: 0, label: "<b>Holy Plain:</b> Inside Marion's hut" },
                            { offset: 0xa0, bit: 3, label: "<b>Holy Plain:</b> Near Curtis' house", separator: true },
                            { offset: 0xa0, bit: 2, label: "<b>Dondoran:</b> In the sand area", separator: true },
                            { offset: 0xa9, bit: 7, label: "<b>Dondoran Castle:</b> Behind the king's throne" },
                            { offset: 0xa9, bit: 6, label: "<b>Dondoran Castle:</b> In the library", separator: true },
                            { offset: 0xa7, bit: 7, label: "<b>Connor Fortress:</b> At the entrance" },
                            { offset: 0xa8, bit: 2, label: "<b>Connor Fortress:</b> At the right from the entrance" },
                            { offset: 0xa8, bit: 3, label: "<b>Connor Fortress:</b> Inside the hut" },
                            { offset: 0xa8, bit: 0, label: "<b>Connor Fortress:</b> Near the arch tree" },
                            { offset: 0xa8, bit: 1, label: "<b>Connor Fortress:</b> Near Solvaring's room", separator: true },
                            { offset: 0xa0, bit: 7, label: "<b>Dondoran Flats:</b> At the left of the entrance" },
                            { offset: 0xa0, bit: 5, label: "<b>Dondoran Flats:</b> Near a signpost", separator: true },
                            { offset: 0xa8, bit: 4, label: "<b>Glencoe Forest:</b> At the right of the entrance" },
                            { offset: 0xa8, bit: 5, label: "<b>Glencoe Forest:</b> At the left of the entrance" },
                            { offset: 0xa8, bit: 6, label: "<b>Glencoe Forest:</b> Near a tree" },
                            { offset: 0xa8, bit: 7, label: "<b>Glencoe Forest:</b> Near the house" },
                            { offset: 0xa9, bit: 0, label: "<b>Glencoe Forest:</b> At the north of the house" },
                            { offset: 0xa9, bit: 1, label: "<b>Glencoe Forest:</b> Near the Blue Cave entrance", separator: true },
                            { offset: 0xa0, bit: 6, label: "<b>Dondoran Flats:</b> Near the bridge to the boat", separator: true },
                            { offset: 0xa1, bit: 3, label: "<b>West Carmagh:</b> Near a little stone bridge" },
                            { offset: 0xa1, bit: 4, label: "<b>West Carmagh:</b> At the top of a hill near the pathway" },
                            { offset: 0xa1, bit: 5, label: "<b>West Carmagh:</b> Near the Cull Hazard Cottage", separator: true },
                            { offset: 0xa6, bit: 4, label: "<b>Cull Hazard:</b> Near the waterfall" },
                            { offset: 0xa6, bit: 5, label: "<b>Cull Hazard:</b> Near the central rock", separator: true },
                            { offset: 0xa1, bit: 7, label: "<b>Normoon:</b> In a wheat field" },
                            { offset: 0xa2, bit: 0, label: "<b>Normoon:</b> In a wheat field" },
                            { offset: 0xa1, bit: 6, label: "<b>Normoon:</b> In a wheat field", separator: true },
                            { offset: 0xa9, bit: 2, label: "<b>Windward Forest:</b> Near the entrance" },
                            { offset: 0xa9, bit: 3, label: "<b>Windward Forest:</b> Near the cabin" },
                            { offset: 0xa9, bit: 5, label: "<b>Windward Forest:</b> Inside the cabin" },
                            { offset: 0xa9, bit: 4, label: "<b>Windward Forest:</b> Near Zelse", separator: true },
                            { offset: 0xa1, bit: 0, label: "<b>Larapool:</b> In the flooded area" },
                            { offset: 0xa1, bit: 1, label: "<b>Larapool:</b> Near the entrance to the inn basement" },
                            { offset: 0xa1, bit: 2, label: "<b>Larapool:</b> Near the Blue Cave entrance", separator: true },
                            { offset: 0xa5, bit: 5, label: "<b>Blue Cave:</b> Near the Glencoe Forest entrance" },
                            { offset: 0xa5, bit: 6, label: "<b>Blue Cave:</b> At a dead end near the pillar area" },
                            { offset: 0xa5, bit: 7, label: "<b>Blue Cave:</b> Next to the central pillar" },
                            { offset: 0xa6, bit: 0, label: "<b>Blue Cave:</b> On the left path in the lake area" },
                            { offset: 0xa6, bit: 1, label: "<b>Blue Cave:</b> Near a chest in the lake area" },
                            { offset: 0xa6, bit: 2, label: "<b>Blue Cave:</b> In the center of the lake area", separator: true },
                            { offset: 0xa6, bit: 3, label: "<b>Crystal Valley:</b> Near Epona's cottage", separator: true },
                            { offset: 0xac, bit: 0, label: "<b>Loch Kilderey:</b> Inside the pirate ship" },
                            { offset: 0xa5, bit: 4, label: "<b>Loch Kilderey:</b> Near the pirate ship" },
                            { offset: 0xa5, bit: 2, label: "<b>Loch Kilderey:</b> Near Colleen's house" },
                            { offset: 0xa5, bit: 1, label: "<b>Loch Kilderey:</b> Behind Colleen's house" },
                            { offset: 0xa5, bit: 3, label: "<b>Loch Kilderey:</b> Near Isle of Skye entrance" },
                            { offset: 0xab, bit: 7, label: "<b>Loch Kilderey:</b> Inside Colleen's house", separator: true },
                            { offset: 0xac, bit: 1, label: "<b>Kiliac's Ship:</b> Inside a crate", separator: true },
                            { offset: 0xa2, bit: 3, label: "<b>East Limelin:</b> In the west part of the area", separator: true },
                            { offset: 0xa2, bit: 6, label: "<b>Limelin:</b> On a dock" },
                            { offset: 0xa2, bit: 5, label: "<b>Limelin:</b> In front of the abandoned house" },
                            { offset: 0xa2, bit: 7, label: "<b>Limelin:</b> In the tall grass area" },
                            { offset: 0xa3, bit: 0, label: "<b>Limelin:</b> Near the tower" },
                            { offset: 0xaa, bit: 4, label: "<b>Limelin:</b> Inside the tower" },
                            { offset: 0xa3, bit: 1, label: "<b>Limelin:</b> In the castle courtyard" },
                            { offset: 0xaa, bit: 1, label: "<b>Limelin:</b> Behind the statue inside the castle" },
                            { offset: 0xaa, bit: 2, label: "<b>Limelin:</b> Behind the statue inside the castle" },
                            { offset: 0xaa, bit: 3, label: "<b>Limelin:</b> On a bookshelf inside the castle", separator: true },
                            { offset: 0xa2, bit: 2, label: "<b>East Limelin:</b> In the south part of the area" },
                            { offset: 0xa2, bit: 1, label: "<b>East Limelin:</b> Near the Baragoon Tunnel entrance" },
                            { offset: 0xa2, bit: 4, label: "<b>East Limelin:</b> Below a scaffolding near the Baragoon Tunnel entrance" },
                            { offset: 0xaa, bit: 5, label: "<b>East Limelin:</b> Inside the cabin near the Baragoon Tunnel entrance" },
                            { offset: 0xaa, bit: 6, label: "<b>East Limelin:</b> Inside the cabin near the Baragoon Tunnel entrance", separator: true },
                            { offset: 0xa6, bit: 6, label: "<b>Baragoon Tunnel:</b> Near a chest" },
                            { offset: 0xa7, bit: 2, label: "<b>Baragoon Tunnel:</b> Near the blue brick area" },
                            { offset: 0xa7, bit: 1, label: "<b>Baragoon Tunnel:</b> In the entrance of the pillar area" },
                            { offset: 0xa7, bit: 0, label: "<b>Baragoon Tunnel:</b> Near a chest in the pillar area" },
                            { offset: 0xa6, bit: 7, label: "<b>Baragoon Tunnel:</b> In the room behind Shilf", separator: true },
                            { offset: 0xaa, bit: 7, label: "<b>Dindom Dries:</b> In a pot inside the Dindom Dries Hut" },
                            { offset: 0xa3, bit: 4, label: "<b>Dindom Dries:</b> Near the entrance of the desert area" },
                            { offset: 0xa3, bit: 6, label: "<b>Dindom Dries:</b> In the middle of the desert area", separator: true },
                            { offset: 0xa4, bit: 1, label: "<b>Shamwood:</b> Near the teleporter" },
                            { offset: 0xab, bit: 5, label: "<b>Shamwood:</b> In the chest room" },
                            { offset: 0xab, bit: 6, label: "<b>Shamwood:</b> In the chest room" },
                            { offset: 0xa4, bit: 0, label: "<b>Shamwood:</b> Behind the pyramid F1" },
                            { offset: 0xa4, bit: 3, label: "<b>Shamwood:</b> Behind the pyramid F2" },
                            { offset: 0xa4, bit: 2, label: "<b>Shamwood:</b> Behind the Pyramid F3" },
                            { offset: 0xab, bit: 1, label: "<b>Shamwood:</b> Inside Lavaar room" },
                            { offset: 0xab, bit: 2, label: "<b>Shamwood:</b> Inside Lavaar room" },
                            { offset: 0xab, bit: 3, label: "<b>Shamwood:</b> Inside Lavaar room" },
                            { offset: 0xab, bit: 4, label: "<b>Shamwood:</b> Inside Lavaar room", separator: true },
                            { offset: 0xa3, bit: 5, label: "<b>Dindom Dries:</b> On the way to Greenoch" },
                            { offset: 0xa3, bit: 7, label: "<b>Dindom Dries:</b> At a dead end at the west of Greenoch" },
                            { offset: 0xa3, bit: 3, label: "<b>Dindom Dries:</b> On the other side of a fault, near the entrance of Boil Hole" },
                            { offset: 0xa3, bit: 2, label: "<b>Dindom Dries:</b> Near the entrance of Boil Hole", separator: true },
                            { offset: 0xa7, bit: 4, label: "<b>Boil Hole:</b> In a large area near 2 chests" },
                            { offset: 0xa7, bit: 3, label: "<b>Boil Hole:</b> Near Fargo", separator: true },
                            { offset: 0xa4, bit: 5, label: "<b>Baragoon Moor:</b> Near the house" },
                            { offset: 0xab, bit: 0, label: "<b>Baragoon Moor:</b> Inside the house" },
                            { offset: 0xa5, bit: 0, label: "<b>Baragoon Moor:</b> Near the entrance to Brannoch Castle Town" },
                            { offset: 0xa4, bit: 7, label: "<b>Baragoon Moor:</b> Near the entrance to Brannoch Castle Town" },
                            { offset: 0xa4, bit: 6, label: "<b>Baragoon Moor:</b> At the end of a path near the entrance to Brannoch Castle Town", separator: true },
                            { offset: 0xa4, bit: 4, label: "<b>Brannoch Castle:</b> Behind the castle" },
                            { offset: 0xa7, bit: 5, label: "<b>Brannoch Castle:</b> In a room behind a chest inside the castle" },
                            { offset: 0xa7, bit: 6, label: "<b>Brannoch Castle:</b> In Leonardo's room" },
                            { offset: 0xac, bit: 2, label: "???", hidden: true },
                            { offset: 0xac, bit: 3, label: "???", hidden: true },
                            { offset: 0xac, bit: 4, label: "???", hidden: true },
                            { offset: 0xac, bit: 5, label: "???", hidden: true },
                            { offset: 0xac, bit: 6, label: "???", hidden: true },
                            { offset: 0xac, bit: 7, label: "???", hidden: true },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            {
              name: "Options",
              flex: true,
              items: [
                {
                  name: "Message",
                  offset: 0x62,
                  type: "variable",
                  dataType: "uint8",
                  resource: "messages",
                },
                {
                  name: "BGM",
                  offset: 0x63,
                  type: "variable",
                  dataType: "uint8",
                  resource: "bgms",
                },
              ],
            },
          ],
        },
      ],
    },
  ],
  resources: {
    bgms: {
      0x0: "0",
      0x1: "1",
      0x2: "2",
      0x3: "3",
      0x4: "4",
    },
    items: {
      0x0: "Spirit Light",
      0x1: "Fresh Bread",
      0x2: "Honey Bread",
      0x3: "Healing Potion",
      0x4: "Dragon's Potion",
      0x5: "Dew Drop",
      0x6: "Mint Leaves",
      0x7: "Heroes Drink",
      0x8: "Silent Flute",
      0x9: "Celine's Bell",
      0xa: "Replica",
      0xb: "Giant's Shoes",
      0xc: "Silver Amulet",
      0xd: "Golden Amulet",
      0xe: "White Wings",
      0xf: "Yellow Wings",
      0x10: "Blue Wings",
      0x11: "Green Wings",
      0x12: "Red Wings",
      0x13: "Black Wings",
      0x14: "Earth Orb",
      0x15: "Wind Jade",
      0x16: "Water Jewel",
      0x17: "Fire Ruby",
      0x18: "Eletale's Book",
      0x19: "Dark Gaol Key",
      0xff: "-",
    },
    locations: {
      0xf05: "Melrode Inn",
      0xf0d: "Floating Monastery",
      0x1007: "Dondoran Inn",
      0x100f: "Dondoran Flats Inn",
      0x1100: "Larapool Inn",
      0x1206: "West Carmagh Inn",
      0x1207: "Cull Hazard Cottage",
      0x1405: "Normoon Inn",
      0x160e: "Limelin Inn",
      0x1616: "Limelin Wharf",
      0x1700: "Greenoch Inn",
      0x1708: "Brannoch Inn",
      0x1713: "Dindom Dries Hut",
      0x1716: "Baragoon Moor House",
      0x1903: "Seagoing Ship",
      0x1a03: "Epona's Cottage",
      0x1e0f: "Brannoch Castle",
    },
    messages: {
      0x0: "4",
      0x1: "3",
      0x2: "2",
      0x3: "1",
      0x4: "0",
    },
  },
  resourcesOrder: {
    items: [0xff],
    locations: [
      0xf05, 0x1007, 0x100f, 0x1100, 0x1206, 0x1207, 0x1405, 0x1903, 0x1a03,
      0x1616, 0x160e, 0x1713, 0x1700, 0x1716, 0x1708, 0x1e0f, 0xf0d,
    ],
    messages: [0x4, 0x3, 0x2, 0x1, 0x0],
  },
};

export default template;
